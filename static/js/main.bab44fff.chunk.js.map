{"version":3,"sources":["components/header/logo.png","webpack:///./src/components/header/header.styl?396d","components/header/header.styl","webpack:///./src/components/footer/footer.styl?37ff","components/footer/footer.styl","webpack:///./src/components/todos/todoItem.styl?4cb8","components/todos/todoItem.styl","webpack:///./src/components/todos/todos.styl?631c","components/todos/todos.styl","webpack:///./src/components/waterMelon/countDown.styl?4584","components/waterMelon/countDown.styl","webpack:///./src/components/waterMelon/waterMelonAction.styl?1e68","components/waterMelon/waterMelonAction.styl","webpack:///./src/components/waterMelon/waterMelonList.styl?90d9","components/waterMelon/waterMelonList.styl","webpack:///./src/components/waterMelon/noData.styl?2c22","components/waterMelon/noData.styl","webpack:///./src/components/waterMelon/waterMelon.styl?607f","components/waterMelon/waterMelon.styl","webpack:///./src/components/statistics/polyline.styl?aa6b","components/statistics/polyline.styl","webpack:///./src/components/statistics/barChart.styl?064d","components/statistics/barChart.styl","webpack:///./src/components/statistics/todosHistory/todosHistoryItem.styl?d954","components/statistics/todosHistory/todosHistoryItem.styl","webpack:///./src/components/statistics/todosHistory/todosHistory.styl?c717","components/statistics/todosHistory/todosHistory.styl","webpack:///./src/components/statistics/waterMelonsHistory/waterMelonsHistoryItem.styl?1892","components/statistics/waterMelonsHistory/waterMelonsHistoryItem.styl","webpack:///./src/components/statistics/waterMelonsHistory/newWaterMelon.styl?5659","components/statistics/waterMelonsHistory/newWaterMelon.styl","webpack:///./src/components/statistics/waterMelonsHistory/waterMelonsHistory.styl?8c0d","components/statistics/waterMelonsHistory/waterMelonsHistory.styl","webpack:///./src/components/statistics/monthlyHistory/dotLine.styl?6bfa","components/statistics/monthlyHistory/dotLine.styl","webpack:///./src/components/statistics/monthlyHistory/monthlyHistoryCore.styl?a64e","components/statistics/monthlyHistory/monthlyHistoryCore.styl","webpack:///./src/components/statistics/monthlyHistory/monthlyHistory.styl?101e","components/statistics/monthlyHistory/monthlyHistory.styl","webpack:///./src/components/statistics/statistics.styl?f409","components/statistics/statistics.styl","webpack:///./src/components/home/home.styl?2064","components/home/home.styl","webpack:///./src/components/login/login.styl?6953","components/login/login.styl","webpack:///./src/components/signUp/signUp.styl?83b2","components/signUp/signUp.styl","config/history.ts","config/http.ts","components/waterMelon/countDown.tsx","components/header/header.tsx","components/footer/footer.tsx","redux/actions/todosActions.ts","redux/actionTypes.ts","components/todos/todoInput.tsx","components/todos/todoItem.tsx","components/todos/todos.tsx","components/waterMelon/waterMelonAction.tsx","components/waterMelon/waterMelonList.tsx","redux/actions/waterMelonActions.ts","components/waterMelon/noData.tsx","components/waterMelon/waterMelon.tsx","components/statistics/polyline.tsx","components/statistics/barChart.tsx","helper/util.ts","components/statistics/todosHistory/todosHistoryItem.tsx","components/statistics/todosHistory/todosHistory.tsx","components/statistics/waterMelonsHistory/waterMelonsHistoryItem.tsx","components/statistics/waterMelonsHistory/newWaterMelon.tsx","components/statistics/waterMelonsHistory/waterMelonsHistory.tsx","components/statistics/monthlyHistory/dotLine.tsx","components/statistics/monthlyHistory/monthlyHistoryCore.tsx","components/statistics/monthlyHistory/monthlyHistory.tsx","components/statistics/statistics.tsx","components/home/home.tsx","components/login/login.tsx","components/signUp/signUp.tsx","App.tsx","serviceWorker.ts","redux/reducers/indexReducer.ts","redux/reducers/todosReducer.ts","redux/reducers/waterMelonReducer.ts","redux/store.ts","index.tsx"],"names":["module","exports","content","i","options","locals","push","publicUrl","history","createBrowserHistory","basename","instance","http","create","baseURL","headers","interceptors","request","use","config","xToken","localStorage","getItem","e","console","log","Promise","reject","response","res","setItem","status","location","pathname","timerId","menu","Item","key","UserOutlined","onClick","LogoutOutlined","header","className","href","src","logo","alt","width","overlay","trigger","this","props","userInfo","account","DownOutlined","Component","footer","updateTodo","payload","type","todoInput","onFocus","setState","focus","onBlur","onKeyUp","keyCode","state","description","addTodo","onChange","target","value","a","async","post","data","resource","Error","onMouseEnter","mouseFocus","onMouseLeave","suffix","EnterOutlined","style","fontSize","cursor","placeholder","mapDispatchToProps","connect","ownProps","todoItem","update","params","id","completed","completed_at","Date","put","getIntoEditingState","editingTodo","editingText","editing","EditingUI","trim","DeleteFilled","deleted","TextUI","onDoubleClick","todoItemClasses","classNames","checked","Panel","todos","unCompletedTodos","length","MehOutlined","color","map","todo","completedTodos","bordered","defaultActiveKey","filter","splice","todosReducer","countDown","time","setInterval","onEnd","window","clearInterval","progressWidth","min","Math","floor","sec","duration","waterMelonAction","forceUpdate","ended_at","updateWaterMelon","abortWaterMelon","aborted","visible","unFinishedWaterMelon","handleOk","handleCancel","abort","waterMelon","html","modal","onOk","onCancel","okText","cancelText","textAlign","closeIcon","CloseCircleOutlined","undefined","startWaterMelon","startedAtTime","parse","started_at","currentTime","getTime","deltaTime","WaterMelonItem","format","waterMelonList","list","datesKeys","datesKey","waterMelons","finishedWaterMelons","wm","Object","keys","sort","b","addWaterMelon","noData","DropboxOutlined","HasWaterMelons","NoWaterMelons","extra","_","groupBy","waterMelonReducer","polyline","points","finishedCount","firstDay","lastPoints","join","lastY","lastDay","dayRange","count","pointsArray","x","y","height","fill","stroke","strokeWidth","strokeLinecap","gap","barChart","yRange","reduce","acc","cur","item","index","point","dayOfWeekTransfer","date","parseInt","yearMonthDayTransfer","arr","split","timeTransfer","formatText","itemType","formattedTime","todosHistoryItem","changeActionText","submit","changeRestoreText","restoreText","changeDeleteText","deleteText","updated_at","created_at","finished","action","clock","TabPane","todosHistory","togglePagination","currentPage","toggleDeletedPagination","deletedCurrentPage","finishedTodosList","finishedDatesKeys","dailyFinishedTodos","deletedTodosList","deletedTodos","slice","tab","defaultCurrent","pageSize","hideOnSinglePage","total","current","finishedTodosLength","deletedTodosLength","finishedTodos","waterMelonsHistoryItem","watermelon","changeEditText","editText","onEditClick","editable","onDeleteClick","onSubmitClick","onCancelClick","onEditingChange","isEnterCode","resize","onEditingKeyDown","onEditingFocus","inputRef","scrollHeight","React","createRef","manually_created","desc","normalDescription","inputDescription","ref","rows","cols","onKeyDown","normalAction","inputAction","Description","Action","waterMelonHistoryItemClasses","watermelonsHistoryItem","FormItem","newWaterMelon","submitNewWaterMelon","values","startedAt","endedAt","valueOf","message","error","addNewWaterMelon","cancelAddPane","saveStartedAtTime","toDate","saveEndedAtTime","saveDescription","disabledDate","onFinish","label","showTime","locale","htmlType","List","Props","Slot","watermelons","waterMelonsHistory","toggleAbortedPagination","abortedCurrentPage","onChangeTab","tabKey","isShowSupplyPane","onSupplyWaterMelonBtnClick","finishedWaterMelonsList","dailyFinishedWaterMelons","abortedWaterMelonsList","abortedDatesKeys","dailyAbortedWaterMelons","icon","MinusOutlined","PlusOutlined","operations","title","tabBarExtraContent","abortedWaterMelons","abortedTodosLength","forEach","xBias","yBias","dotLine","xRange","getDate","d","concat","placement","overlayClassName","r","circleRadius","cx","cy","timeFormat","monthlyHistoryCore","onChangeYear","dateString","currentYear","onChangeMonth","currentMonth","dotLineData","monthlyIncreaseNumber","monthlyIncreaseClasses","monthlyIncrease","number","growable","Number","defaultValue","moment","picker","mode","totalNumber","daliyAverageNumber","getDaysInMonth","monthData","totalDays","toFixed","prevYear","prevMonth","prevTotalNumber","finishedData","calTime","increase","Infinity","Array","Map","currentDay","set","get","weeklyHistory","statistics","ulRef","liRef","updateSize","liWidth","offsetWidth","ulWidth","initMapVisible","newClassName","mapTitleVisible","includes","monthlyTitle","watermelonTitle","todosTitle","removeEventListener","element","eventType","selector","fn","addEventListener","el","matches","parentNode","call","monthlyTitleClasses","watermelonTitleClasses","todosTitleClasses","getMonth","monthlyWaterMelonsLength","monthlyWaterMelons","dailyWaterMelons","dailyTodos","weekData","day","getDay","home","getUserInfo","getTodos","resources","newTodos","assign","initTodos","getWaterMelon","initWaterMelon","login","newState","goToSignUp","goToIndex","password","allowClear","prefix","marginBottom","Password","LockOutlined","to","signUp","goToLogin","passwordConfirmed","password_confirmation","success","setTimeout","SafetyCertificateOutlined","App","path","exact","component","Home","Login","SignUp","Boolean","hostname","match","combineReducers","store","createStore","rootReducer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.bab44fff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6c4bd1c9.png\";","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./header.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".page-container {\\n  height: 48px;\\n}\\n.page-header {\\n  border-bottom: 1px solid #ddd;\\n  width: auto;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.page-header .logo {\\n  font-size: 22px;\\n  line-height: 48px;\\n  font-weight: 700;\\n  margin: 0;\\n}\\n.page-header .logo a {\\n  display: inline-block;\\n  color: #333;\\n  font-size: 22px;\\n  line-height: 48px;\\n  font-weight: 700;\\n}\\n.page-header .dropdown-title {\\n  cursor: pointer;\\n  display: inline-block;\\n  vertical-align: middle;\\n  user-select: none;\\n}\\n.page-header .dropdown-title .icon-down {\\n  margin-left: 4px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./footer.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".page-footer {\\n  color: #666;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  border-top: 1px solid #efefef;\\n  padding: 10px 0;\\n  margin-top: 60px;\\n}\\n.page-footer .page-footer-right {\\n  display: flex;\\n  align-items: center;\\n}\\n.page-footer .page-footer-right li {\\n  margin-left: 10px;\\n}\\n.page-footer .page-footer-right li a {\\n  color: #666;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./todoItem.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".todoItem {\\n  display: flex;\\n  cursor: auto;\\n  padding: 4px;\\n  border-top: 1px solid #ddd;\\n}\\n.todoItem:hover {\\n  background: #f9f9f9;\\n}\\n.todoItem.editing {\\n  background: #fff4d0;\\n  border-top-color: #f7edb8;\\n}\\n.todoItem.completed {\\n  opacity: 0.5;\\n  text-decoration: line-through;\\n}\\n.todoItem .editing-input-wrapper {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  margin-left: 4px;\\n}\\n.todoItem span.text {\\n  margin-left: 4px;\\n}\\n.todoItem textarea,\\n.todoItem span.text {\\n  flex: 1 1 auto;\\n  outline: none;\\n  border: 0;\\n  background: transparent;\\n}\\n.todoItem .editing-input {\\n  white-space: pre-line;\\n  height: 22px;\\n  resize: none;\\n}\\n.todoItem .icon-wrapper .icon-delete {\\n  margin-left: 4px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./todos.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".todos {\\n  border: 1px solid #ddd;\\n  width: calc(50% - 8px);\\n  border-radius: 4px;\\n  box-shadow: 0 2px 0 rgba(225,225,225,0.2);\\n  background: #fff;\\n  padding: 16px;\\n}\\n.todos .todo-list {\\n  margin-top: 15px;\\n}\\n.todos .ant-collapse-content > .ant-collapse-content-box {\\n  padding: 0;\\n}\\n.todos .ant-collapse-item {\\n  background: #fff;\\n}\\n.todos .ant-collapse-header {\\n  user-select: none;\\n}\\n.todos .ant-checkbox-checked .ant-checkbox-inner {\\n  background-color: #ccc;\\n  border-color: #ccc;\\n}\\n.todos .ant-checkbox-checked::after {\\n  border-color: #ccc;\\n}\\n.todos .no-data {\\n  display: flex;\\n  justify-content: center;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./countDown.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".count-down {\\n  text-align: center;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  background: #f8f8f8;\\n  font-size: 16px;\\n  font-weight: 700;\\n  padding: 3px 0;\\n  position: relative;\\n  overflow: hidden;\\n  height: 2em;\\n}\\n.count-down .progress {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  height: 100%;\\n  z-index: 0;\\n  background-image: linear-gradient(to bottom, #f8f8f8 0, #eee 100%);\\n  border-radius: 4px 0 0 4px;\\n  border-right: 1px solid #e9e9e9;\\n}\\n.count-down .time {\\n  position: relative;\\n  z-index: 1;\\n  cursor: default;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./waterMelonAction.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".watermelon-action .start-task-btn {\\n  width: 100%;\\n  font-weight: 700;\\n  font-size: 16px;\\n}\\n.watermelon-action .input-wrapper,\\n.watermelon-action .count-down-wrapper {\\n  position: relative;\\n}\\n.watermelon-action .input-wrapper .icon-close,\\n.watermelon-action .count-down-wrapper .icon-close {\\n  font-size: 18px;\\n  position: absolute;\\n  top: -9px;\\n  right: -9px;\\n  background: #fff;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./waterMelonList.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".watermelon-list {\\n  border-top: 1px solid #ddd;\\n  margin-top: 20px;\\n}\\n.watermelon-list .daily-watermelons {\\n  margin-top: 20px;\\n}\\n.watermelon-list .daily-watermelons .title {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.watermelon-list .daily-watermelons .title .date-time {\\n  font-size: 1.1em;\\n  color: #999;\\n}\\n.watermelon-list .daily-watermelons .title .finished-watermelon-number {\\n  font-size: 0.9em;\\n  color: #666;\\n}\\n.watermelon-list .watermelon-item {\\n  display: flex;\\n}\\n.watermelon-list .watermelon-item .time-range {\\n  color: #999;\\n  flex-shrink: 0;\\n}\\n.watermelon-list .watermelon-item .description {\\n  padding-left: 0.8em;\\n  font-size: 1.1em;\\n  color: #222;\\n  word-break: break-all;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./noData.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".no-data {\\n  text-align: center;\\n  padding: 20px 0;\\n  border-top: 1px solid #ddd;\\n  margin-top: 20px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./waterMelon.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".watermelon {\\n  border: 1px solid #ddd;\\n  width: calc(50% - 8px);\\n  border-radius: 4px;\\n  box-shadow: 0 2px 0 rgba(225,225,225,0.2);\\n  background: #fff;\\n  padding: 16px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./polyline.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".peity {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./barChart.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".bar-chart {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./todosHistoryItem.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".todos-history-item {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  cursor: default;\\n  padding: 0.5em;\\n}\\n.todos-history-item .text {\\n  display: flex;\\n  align-items: center;\\n}\\n.todos-history-item:hover {\\n  background: #f4f4f4;\\n}\\n.todos-history-item:hover .action {\\n  opacity: 1;\\n}\\n.todos-history-item .action {\\n  white-space: nowrap;\\n  opacity: 0;\\n  color: #0881b3;\\n}\\n.todos-history-item .action:hover {\\n  cursor: pointer;\\n}\\n.todos-history-item .restore {\\n  margin-right: 1em;\\n}\\n.todos-history-item .time {\\n  color: #999;\\n  white-space: nowrap;\\n}\\n.todos-history-item .description {\\n  margin-left: 1em;\\n  color: #222;\\n}\\n.todos-history-item .clock {\\n  margin-left: 5px;\\n  color: #888;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./todosHistory.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".todos-history {\\n  min-height: 33em;\\n}\\n.todos-history .daily-todos:last-child {\\n  margin-bottom: 10px;\\n}\\n.todos-history .daily-todos {\\n  background: #fff;\\n  border: 1px solid #ddd;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1);\\n  padding: 1em;\\n  border-radius: 3px;\\n  margin-top: 10px;\\n  display: flex;\\n}\\n.todos-history .daily-todos .summary {\\n  margin-right: 8px;\\n}\\n.todos-history .daily-todos p {\\n  margin: 0;\\n}\\n.todos-history .daily-todos .year-month-day {\\n  color: #222;\\n  font-size: 1em;\\n}\\n.todos-history .daily-todos .day {\\n  margin-left: 10px;\\n  color: #888;\\n  font-size: 0.9em;\\n}\\n.todos-history .daily-todos .finished-todos-count {\\n  color: #888;\\n  font-size: 0.9em;\\n  margin-top: 7.2px;\\n}\\n.todos-history .daily-todos .todos-list {\\n  flex: 1;\\n}\\n.tab-pane-page-footer {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.tab-pane-page-footer .total-num-of-todos {\\n  margin: 0;\\n  font-size: 14px;\\n  color: #888;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./waterMelonsHistoryItem.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".watermelonsHistoryItem {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  cursor: default;\\n  padding: 0.5em;\\n}\\n.watermelonsHistoryItem:hover,\\n.watermelonsHistoryItem.editable {\\n  background: #f4f4f4;\\n}\\n.watermelonsHistoryItem:hover .action,\\n.watermelonsHistoryItem.editable .action {\\n  opacity: 1;\\n}\\n.watermelonsHistoryItem .action {\\n  white-space: nowrap;\\n  opacity: 0;\\n  color: #0881b3;\\n}\\n.watermelonsHistoryItem .action:hover {\\n  cursor: pointer;\\n}\\n.watermelonsHistoryItem p {\\n  margin-bottom: 0;\\n}\\n.watermelonsHistoryItem .text {\\n  display: flex;\\n  align-items: center;\\n  width: calc(90% - 1em);\\n}\\n.watermelonsHistoryItem .edit,\\n.watermelonsHistoryItem .submit {\\n  margin-right: 1em;\\n}\\n.watermelonsHistoryItem .time {\\n  color: #999;\\n  flex-shrink: 0;\\n}\\n.watermelonsHistoryItem .description,\\n.watermelonsHistoryItem textarea {\\n  margin-left: 1em;\\n  color: #222;\\n  word-break: break-all;\\n}\\n.watermelonsHistoryItem .null {\\n  color: #999;\\n}\\n.watermelonsHistoryItem textarea {\\n  border: 1px solid #ccc;\\n  padding: 6px 4px;\\n  outline: 0;\\n  border-radius: 2px;\\n  color: #777;\\n  max-width: 100%;\\n  width: 100%;\\n  display: block;\\n  background: #fff;\\n  vertical-align: top;\\n  overflow: hidden;\\n  overflow-wrap: break-word;\\n  resize: horizontal;\\n}\\n.watermelonsHistoryItem .supply-info {\\n  color: #ff7676;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./newWaterMelon.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".new-watermelon-pane {\\n  background: #f9f9f9;\\n  border: 1px solid #ddd;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1);\\n  padding: 1em;\\n  border-radius: 3px;\\n  margin-bottom: 0.6em;\\n  font-size: 14px;\\n}\\n.new-watermelon-pane .submit-btn {\\n  margin-right: 10px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./waterMelonsHistory.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".watermelons-history {\\n  min-height: 33em;\\n}\\n.watermelons-history .daily-watermelons:last-child {\\n  margin-bottom: 10px;\\n}\\n.watermelons-history .daily-watermelons {\\n  background: #fff;\\n  border: 1px solid #ddd;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1);\\n  padding: 1em;\\n  border-radius: 3px;\\n  margin-top: 10px;\\n  display: flex;\\n}\\n.watermelons-history .daily-watermelons .summary {\\n  margin-right: 8px;\\n}\\n.watermelons-history .daily-watermelons .date {\\n  margin: 0;\\n}\\n.watermelons-history .daily-watermelons .year-month-day {\\n  color: #222;\\n  font-size: 1em;\\n}\\n.watermelons-history .daily-watermelons .day {\\n  margin-left: 10px;\\n  color: #888;\\n  font-size: 0.9em;\\n}\\n.watermelons-history .daily-watermelons .finished-todos-count {\\n  color: #888;\\n  font-size: 0.9em;\\n  margin-top: 7.2px;\\n}\\n.watermelons-history .daily-watermelons .watermelons-list {\\n  flex: 1;\\n}\\n.tab-pane-page-footer {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.tab-pane-page-footer .total-num-of-todos {\\n  margin: 0;\\n  font-size: 14px;\\n  color: #888;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./dotLine.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".dot-line {\\n  padding: 0 16px 16px;\\n}\\n.dot-line svg {\\n  overflow: hidden;\\n}\\n.dot-line rect {\\n  fill: #f4f4f4;\\n  stroke: #ddd;\\n  stroke-width: 0.5;\\n}\\n.dot-line path {\\n  stroke: rgba(200,40,41,0.6);\\n  stroke-width: 2.5px;\\n  fill: none;\\n}\\n.dot-line text {\\n  fill: rgba(200,40,41,0.6);\\n  font-size: 1rem;\\n}\\n.dot-line circle {\\n  stroke: rgba(200,40,41,0.8);\\n  fill: #fff;\\n  stroke-width: 2px;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./monthlyHistoryCore.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".monthly-history-core .monthly-action {\\n  padding-bottom: 0.7em;\\n  display: flex;\\n  align-items: center;\\n}\\n.monthly-history-core .monthly-action-year,\\n.monthly-history-core .monthly-action-month {\\n  margin-left: 15px;\\n}\\n.monthly-history-core .monthly-action-text {\\n  margin-left: 8px;\\n}\\n.monthly-history-core .monthly-history-statistics-wrapper {\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n}\\n.monthly-history-core ul {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  border-bottom: 1px solid #ddd;\\n}\\n.monthly-history-core li {\\n  padding: 0.7em 0;\\n  text-align: center;\\n  border-right: 1px solid #ddd;\\n  flex: 1;\\n}\\n.monthly-history-core li:last-child {\\n  border-right: 0;\\n}\\n.monthly-history-core li>strong {\\n  margin-right: 0.3em;\\n  color: #333;\\n  font-size: 1.8em;\\n}\\n.monthly-history-core .unit {\\n  font-size: 16px;\\n  color: #222;\\n}\\n.monthly-history-core .monthlyIncrease {\\n  color: #d74e4e;\\n}\\n.monthly-history-core .growable {\\n  color: #3d9400;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/stylus-loader/index.js!./monthlyHistory.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./statistics.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".statistics {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  border: 1px solid #e4e4e4;\\n  border-radius: 4px;\\n  margin-bottom: 0;\\n}\\n.statistics>li {\\n  flex: 1;\\n  border-left: 1px solid #e4e4e4;\\n  cursor: pointer;\\n  max-width: 320px;\\n  max-height: 90px;\\n  position: relative;\\n  font-weight: 500;\\n  text-align: left;\\n}\\n.statistics>li.visible {\\n  background: #f4f4f4;\\n}\\n.statistics>li:first-child {\\n  border-left: none;\\n}\\n.statistics>li h3,\\n.statistics>li .description {\\n  margin-bottom: 0;\\n}\\n.statistics>li h3 {\\n  padding: 10px 10px 0;\\n  color: #666;\\n  font-size: 14px;\\n  line-height: 14px;\\n}\\n.statistics>li .description-wrapper {\\n  padding-left: 10px;\\n  text-align: left;\\n  display: inline-flex;\\n  flex-direction: column;\\n}\\n.statistics>li .description {\\n  font-size: 12px;\\n  color: #999;\\n  display: inline-block;\\n  line-height: 12px;\\n  padding: 6px 0 2px;\\n}\\n.statistics>li .number {\\n  display: inline-block;\\n  font-size: 30px;\\n  color: #666;\\n  font-weight: 400;\\n  line-height: 34px;\\n  padding: 2px 0 10px;\\n}\\n.history-wrapper {\\n  background: #fff;\\n  margin-top: 20px;\\n}\\n.history-wrapper .monthlyTitle,\\n.history-wrapper .watermelonTitle,\\n.history-wrapper .todosTitle {\\n  display: none;\\n  padding: 16px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  box-shadow: 0 2px 0 rgba(225,225,225,0.2);\\n}\\n.history-wrapper .visible {\\n  display: block;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./home.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"#Home {\\n  max-width: 960px;\\n  margin: 0 auto;\\n  padding: 16px;\\n}\\n#Home main.content {\\n  margin-top: 20px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n#Home main.statistics-content {\\n  margin-top: 20px;\\n}\\n@media (max-width: 756px) {\\n  #Home .page-footer {\\n    flex-direction: column;\\n  }\\n  #Home .page-footer p.copyright {\\n    margin: 0;\\n  }\\n  #Home main.content {\\n    flex-direction: column;\\n  }\\n  #Home main.content .watermelon,\\n  #Home main.content .todos {\\n    width: 100%;\\n  }\\n  #Home main.content .todos {\\n    margin-top: 20px;\\n  }\\n  #Home main.statistics-content .statistics {\\n    flex-direction: column;\\n  }\\n  #Home main.statistics-content .statistics li {\\n    border: none;\\n    border-bottom: 1px solid #e4e4e4;\\n    max-width: 100%;\\n    width: 100%;\\n  }\\n  #Home main.statistics-content .statistics li:last-child {\\n    border: none;\\n  }\\n  #Home main.statistics-content .history-wrapper .monthly-action {\\n    flex-direction: column;\\n    align-items: flex-start;\\n  }\\n  #Home main.statistics-content .history-wrapper .monthly-action .monthly-action-year,\\n  #Home main.statistics-content .history-wrapper .monthly-action .monthly-action-month {\\n    margin: 0;\\n  }\\n  #Home main.statistics-content .history-wrapper .monthly-action .monthly-action-title,\\n  #Home main.statistics-content .history-wrapper .monthly-action .monthly-action-year {\\n    margin-bottom: 10px;\\n  }\\n  #Home main.statistics-content .history-wrapper .monthly-history-statistics-wrapper ul {\\n    flex-direction: column;\\n  }\\n  #Home main.statistics-content .history-wrapper .monthly-history-statistics-wrapper ul li {\\n    border: none;\\n  }\\n  #Home main.statistics-content .history-wrapper .watermelonTitle .daily-watermelons {\\n    flex-direction: column;\\n  }\\n  #Home main.statistics-content .history-wrapper .watermelonTitle .daily-watermelons .summary,\\n  #Home main.statistics-content .history-wrapper .watermelonTitle .daily-watermelons .date-wrapper p {\\n    margin: 0;\\n  }\\n  #Home main.statistics-content .history-wrapper .watermelonTitle .daily-watermelons .date-wrapper {\\n    display: flex;\\n  }\\n  #Home main.statistics-content .history-wrapper .watermelonTitle .daily-watermelons .date-wrapper .finished-watermelons-count {\\n    margin-left: 10px;\\n  }\\n  #Home main.statistics-content .history-wrapper .todosTitle .daily-todos {\\n    flex-direction: column;\\n  }\\n  #Home main.statistics-content .history-wrapper .todosTitle .daily-todos .summary,\\n  #Home main.statistics-content .history-wrapper .todosTitle .daily-todos .date-wrapper p {\\n    margin: 0;\\n  }\\n  #Home main.statistics-content .history-wrapper .todosTitle .daily-todos .date-wrapper {\\n    display: flex;\\n  }\\n  #Home main.statistics-content .history-wrapper .todosTitle .daily-todos .date-wrapper .finished-todos-count {\\n    margin-left: 10px;\\n  }\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./login.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".page-login {\\n  max-width: 500px;\\n  margin: 50px auto;\\n  padding-left: 100px;\\n  padding-right: 100px;\\n}\\n.page-login input {\\n  margin: 5px auto;\\n}\\n.page-login .login-header {\\n  font-size: 42px;\\n  font-weight: 400;\\n  text-align: center;\\n}\\n.page-login .login-btn {\\n  width: 100%;\\n  margin-top: 20px;\\n}\\n.page-login .register-link {\\n  margin-top: 25px;\\n}\\n.page-login .ant-input-affix-wrapper {\\n  align-items: center;\\n}\\n\", \"\"]);\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/stylus-loader/index.js!./signUp.styl\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".page-sign-up {\\n  max-width: 500px;\\n  margin: 50px auto;\\n  padding-left: 100px;\\n  padding-right: 100px;\\n}\\n.page-sign-up input {\\n  margin: 5px auto;\\n}\\n.page-sign-up .sign-up-header {\\n  font-size: 42px;\\n  font-weight: 400;\\n  text-align: center;\\n}\\n.page-sign-up .sign-up-btn {\\n  width: 100%;\\n  margin-top: 20px;\\n}\\n.page-sign-up .login-link {\\n  margin-top: 25px;\\n}\\n.page-sign-up .ant-input-affix-wrapper {\\n  align-items: center;\\n}\\n\", \"\"]);\n","import { createBrowserHistory } from 'history'\n\nconst ENV = process.env.NODE_ENV\nlet publicUrl: string = ''\n\nif (ENV === 'development') {\n  publicUrl = '/'\n} else if (ENV === 'production') {\n  publicUrl = '/watermelon-clock'\n}\n\nconst history = createBrowserHistory({\n  basename: publicUrl\n})\n\nexport default history\n","import http from 'axios'\nimport history from './history'\n\nconst appID = 'PQ2epU1JRZiN9mCbY2F68kTw '\nconst appSecret = 'H2yBbH9gizUgN8vPiFNgXeGr'\n\nconst instance = http.create({\n  baseURL: 'https://gp-server.hunger-valley.com',\n  headers: {\n    't-app-id': appID,\n    't-app-secret': appSecret\n  }\n})\n\n// 发送请求前需要在请求头中加 token 方便后端验证\ninstance.interceptors.request.use(\n  config => {\n    const xToken = localStorage.getItem('x-token')\n    if (xToken) config.headers['Authorization'] = `Bearer ${xToken}`\n    return config\n  },\n  e => {\n    console.log('request error: ', e)\n    return Promise.reject(e)\n  }\n)\n\n// 接受响应之前设置下 token\ninstance.interceptors.response.use(\n  res => {\n    if (res.headers['x-token']) localStorage.setItem('x-token', res.headers['x-token'])\n    return res\n  },\n  e => {\n    // eslint-disable-next-line\n    if (e.response && e.response.status === 401 || e.response.status >= 500) {\n      // 一般是如果鉴权失败，需要做重定向跳转到登录页\n      console.log(history.location.pathname)\n      if (history.location.pathname === '/') history.push('/login')\n    }\n    return Promise.reject(e)\n  }\n)\n\nexport default instance\n","import React, { Component } from 'react'\n\nimport './countDown.styl'\n\ninterface ICountDownProps {\n  time: number // 传入的倒计时，单位是 ms\n  onEnd: () => void\n  duration: number\n}\n\ninterface ICountDownState {\n  countDown: number // 倒计时，单位是 ms\n}\n\nlet timerId:NodeJS.Timeout\n\nconst delayTime = 0 // 延时\n\nexport class countDown extends Component<ICountDownProps, ICountDownState> {\n\n  constructor(props: ICountDownProps) {\n    super(props)\n    this.state = {\n      countDown: this.props.time\n    }\n  }\n\n  get countDown() {\n    const { countDown } = this.state\n    const time = countDown + delayTime\n    const min = Math.floor(time/1000/60)\n    const sec = Math.floor(time/1000%60)\n    return `${min < 10 ? `0${min}` : min}:${sec < 10 ? `0${sec}` : sec}`\n  }\n\n  get progressWidth() {\n    const { countDown } = this.state\n    const { duration } = this.props\n    return (Math.floor(100 - countDown * 100 / duration))\n  }\n\n  componentDidMount() {\n    timerId = setInterval(()=> {\n      const time = this.state.countDown\n      this.setState({\n        countDown: time - 1000\n      })\n\n      if (time < 0) {\n        this.props.onEnd()\n        window.clearInterval(timerId)\n      }\n    }, 1000)\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(timerId)\n  }\n\n  render() {\n    return (\n      <div className=\"count-down\">\n        <div className=\"progress\"\n          style={{\n            width: `${this.progressWidth}%`\n          }}\n        ></div>\n        <p className=\"time\">{this.countDown}</p>\n      </div>\n    )\n  }\n}\n\nexport default countDown\n","import React, { Component } from 'react'\nimport { DownOutlined, LogoutOutlined, UserOutlined } from '@ant-design/icons';\nimport { Menu, Dropdown } from 'antd';\nimport history from '../../config/history'\nimport logo from './logo.png'\n\nimport './header.styl'\n\ninterface IHeaderProps {\n  userInfo: any\n}\n\nconst gotoLogin = () => {\n  history.push('/login')\n}\n\nconst logout = () => {\n  localStorage.setItem('x-token', '')\n  gotoLogin()\n}\n\nconst menu = (\n  <Menu>\n    <Menu.Item key=\"0\"><UserOutlined />个人设置</Menu.Item>\n    <Menu.Item key=\"1\" onClick={logout}><LogoutOutlined />登出</Menu.Item>\n  </Menu>\n)\n\nexport class header extends Component<IHeaderProps> {\n\n  render() {\n    return (\n      <div className=\"page-header page-container\">\n        <h1 className=\"logo\">\n          <a href=\"/\">\n            <img src={logo} alt=\"\" width=\"50\" />\n            ⏰\n          </a>\n        </h1>\n        <Dropdown overlay={menu} trigger={['click']}>\n          <span className=\"dropdown-title\">\n            {/* eslint-disable-next-line */}\n            🎃\n            {\n              this.props.userInfo && this.props.userInfo.account\n            }\n            <DownOutlined className=\"icon-down\" />\n          </span>\n        </Dropdown>\n      </div>\n    );\n  }\n}\n\nexport default header\n","import React, { Component } from 'react'\nimport './footer.styl'\n\nexport class footer extends Component {\n  render() {\n    return (\n      <div className=\"page-footer\">\n        <p className=\"copyright\">\n          <span>©</span>\n          <span>2020 strugglebak</span>\n        </p>\n        <ul className=\"page-footer-right\">\n          <li>\n            <a href=\"https://github.com/strugglebak\">开发者</a>\n          </li>\n          <li>\n            <a href=\"https://github.com/strugglebak/watermelon-clock\">仓库地址</a>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default footer\n","import {\n  ADD_TODO,\n  INIT_TODOS,\n  UPDATE_TODO,\n  EDITING_TODO,\n} from '../actionTypes'\n\nexport const addTodo = (payload: any) => {\n  return {\n    type: ADD_TODO,\n    payload\n  }\n}\n\nexport const initTodos = (payload: any[]) => {\n  return {\n    type: INIT_TODOS,\n    payload\n  }\n}\n\nexport const updateTodo = (payload: any) => {\n  return {\n    type: UPDATE_TODO,\n    payload\n  }\n}\n\nexport const editingTodo = (payload: number) => {\n  return {\n    type: EDITING_TODO,\n    payload\n  }\n}\n","export const ADD_TODO = 'ADD_TODO'\nexport const INIT_TODOS = 'INIT_TODOS'\nexport const UPDATE_TODO = 'UPDATE_TODO'\nexport const EDITING_TODO = 'EDITING_TODO'\n\nexport const ADD_WATERMELON = 'ADD_WATERMELON'\nexport const INIT_WATERMELON = 'INIT_WATERMELON'\nexport const UPDATE_WATERMELON = 'UPDATE_WATERMELON'\n","import React, { Component } from 'react'\nimport { EnterOutlined } from '@ant-design/icons';\nimport { Input } from 'antd';\n\nimport { connect } from 'react-redux'\nimport { addTodo } from '../../redux/actions/todosActions'\n\nimport http from '../../config/http'\n\ninterface ITodoInputState {\n  description: string\n  focus: boolean\n  mouseFocus: boolean\n}\n\ninterface ITodoInputProps {\n  addTodo: (payload: any) => any\n}\n\nexport class todoInput extends Component<ITodoInputProps, ITodoInputState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      description: '',\n      focus: false,\n      mouseFocus: false\n    }\n  }\n\n  // 获得焦点\n  onFocus = (e: any) => {\n    this.setState({ focus: true })\n  }\n\n  // 失去焦点\n  onBlur = (e: any) => {\n    this.setState({ focus: false })\n  }\n\n  onKeyUp = (e: any) => {\n    if (e.keyCode === 13 && this.state.description !== '') {\n      this.addTodo()\n    }\n  }\n\n  onChange = (e: any) => {\n    this.setState({\n      description: e.target.value\n    })\n  }\n\n  addTodo = async () => {\n    const { description } = this.state\n    try {\n      const response = await http.post('/todos', { description })\n      this.props.addTodo(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n    this.setState({description: ''})\n  }\n\n  onMouseEnter = (e: any) => {\n    this.setState({mouseFocus: true})\n  }\n  onMouseLeave = (e: any) => {\n    this.setState({mouseFocus: false})\n  }\n\n  render() {\n    const { mouseFocus, description } = this.state\n    const suffix = description || mouseFocus\n      ? <EnterOutlined\n      style={{\n            fontSize: '18px', cursor: 'pointer'\n          }}\n      onClick={this.addTodo} />\n      : <span/>\n    return (\n      <div className=\"todo-input\">\n        <Input placeholder=\"添加新任务\"\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onKeyUp={this.onKeyUp}\n          onChange={this.onChange}\n          value={this.state.description}\n          suffix={suffix}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = {\n  addTodo\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(todoInput)\n","import React, { Component } from 'react'\nimport { DeleteFilled, EnterOutlined } from '@ant-design/icons';\nimport { Checkbox } from 'antd';\nimport classNames from 'classnames'\nimport http from '../../config/http'\n\nimport { connect } from 'react-redux'\nimport {editingTodo, updateTodo} from '../../redux/actions/todosActions'\n\nimport './todoItem.styl'\n\ninterface ITodoItemProps {\n  key: number\n  id: number\n  user_id: number\n  completed: boolean\n  completed_at: any\n  deleted: boolean\n  description: string\n  extra: any\n  created_at: string\n  updated_at: string\n  updateTodo: (payload: any) => any\n  editingTodo: (payload: number) => any\n  editing: boolean\n}\n\ninterface ITodoItemState {\n  editingText: string\n}\n\nexport class todoItem extends Component<ITodoItemProps, ITodoItemState> {\n  constructor(props: ITodoItemProps) {\n    super(props)\n    this.state = {\n      editingText: this.props.description\n    }\n  }\n\n  update = async (params: any) => {\n    const {id} = this.props\n\n    if (params.completed) {\n      params.completed_at = new Date()\n    }\n\n    try {\n      const response = await http.put(`/todos/${id}`, params)\n      this.props.updateTodo(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  getIntoEditingState = () => {\n    this.props.editingTodo(this.props.id)\n  }\n\n  onKeyUp = (e: any) => {\n    if (e.keyCode === 13 && this.state.editingText !== '') {\n      this.update({\n        description: this.state.editingText,\n        editing: false\n      })\n    }\n  }\n\n  onBlur = (e: any) => {\n    this.update({\n      description: this.state.editingText,\n      editing: false\n    })\n  }\n\n\n  render() {\n\n    const EditingUI = <div className=\"editing-input-wrapper\">\n      <textarea className=\"editing-input\" value={this.state.editingText}\n        onChange={e => this.setState({editingText: e.target.value.trim()})}\n        onKeyUp={this.onKeyUp}\n        onBlur={this.onBlur}\n      />\n      <div className=\"icon-wrapper\">\n        <EnterOutlined\n          className=\"icon-enter\"\n          style={{\n              cursor: 'pointer', fontSize: '16px'\n            }}\n          onClick={e => this.update({description: this.state.editingText})} />\n        <DeleteFilled\n          className=\"icon-delete\"\n          style={{\n              cursor: 'pointer', fontSize: '16px'\n            }}\n          onClick={e => this.update({ deleted: true })} />\n      </div>\n    </div>\n\n    const TextUI = <span className=\"text\" onDoubleClick={this.getIntoEditingState}>{this.props.description}</span>\n\n    const todoItemClasses = classNames({\n      todoItem: true,\n      editing: this.props.editing,\n      completed: this.props.completed\n    })\n\n    return (\n      <li className={todoItemClasses}>\n        <Checkbox className=\"checkbox\" checked={ this.props.completed }\n          onChange={e => this.update({ completed: e.target.checked })}\n        />\n        {\n          this.props.editing ? EditingUI : TextUI\n        }\n      </li>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n\t...ownProps\n})\n\nconst mapDispatchToProps = {\n\teditingTodo,\n\tupdateTodo\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(todoItem)\n","import React, { Component } from 'react'\nimport TodoInput from './todoInput'\nimport TodoItem from './todoItem'\n\nimport { connect } from 'react-redux'\nimport { updateTodo } from '../../redux/actions/todosActions'\nimport { Collapse } from 'antd'\n\nimport { MehOutlined } from '@ant-design/icons'\n\nimport './todos.styl'\n\nconst { Panel } = Collapse\n\nexport class todos extends Component<any> {\n\n  get unDeletedTodos () { return this.props.todos.filter((todo: any) => !todo.deleted) }\n  get unCompletedTodos () { return this.props.todos.filter((todo: any) => !todo.completed && !todo.deleted) }\n  // 只显示 10 个已经完成的任务\n  get completedTodos () { return this.props.todos.filter((todo: any) => todo.completed && !todo.deleted).splice(0, 10) }\n\n  render() {\n    return (\n      <div className=\"todos\">\n        <TodoInput />\n        <main>\n          <ul className=\"todo-list\">\n            {\n              this.unCompletedTodos.length <= 0 &&\n                <div className=\"no-data\"><MehOutlined\n                  style={{ fontSize: '15em', color: '#eee' }}\n                /></div>\n            }\n            {\n              this.unCompletedTodos.map((todo: any) =>\n                <TodoItem key={todo.id} {...todo}/>\n              )\n            }\n            {\n              this.completedTodos.length > 0 &&\n                <Collapse bordered={false} defaultActiveKey={['1']}>\n                  <Panel header=\"最近完成的任务✔\" key=\"1\">\n                    {\n                      this.completedTodos.map((todo: any) =>\n                        <TodoItem key={todo.id} {...todo}\n                        />\n                      )\n                    }\n                  </Panel>\n                </Collapse>\n            }\n          </ul>\n        </main>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n    todos: state.todosReducer,\n    ...ownProps\n})\n\nconst mapDispatchToProps = {\n  updateTodo\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(todos)\n","import React, { Component } from 'react'\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { Button, Input, Modal } from 'antd';\n\nimport CountDown from './countDown'\nimport http from '../../config/http'\n\nimport './waterMelonAction.styl'\n\ninterface IWaterMelonActionProps {\n  startWaterMelon: () => void\n  updateWaterMelon: (payload: any) => any\n  unFinishedWaterMelon: any\n}\n\ninterface IWaterMelonActionState {\n  description: string\n  visible: boolean\n}\n\n\nexport class waterMelonAction extends Component\n<IWaterMelonActionProps, IWaterMelonActionState> {\n\n  constructor(props: IWaterMelonActionProps) {\n    super(props)\n    this.state = {\n      description: '',\n      visible: false,\n    }\n  }\n\n  onEnd = () => {\n    this.forceUpdate()\n  }\n\n  onKeyUp = (e: any) => {\n    const { description } = this.state\n    const ended_at = new Date()\n    if (e.keyCode === 13 && description !== '') {\n      // 更新该西瓜的 description 以及 ended_at aborted\n      this.updateWaterMelon({ description, ended_at })\n      this.setState({ description: '' })\n    }\n  }\n\n  abortWaterMelon = (e: any) => {\n    const { description } = this.state\n    if (e.keyCode === 13 && description !== '') {\n      this.updateWaterMelon({ aborted: true })\n      this.setState({ description: '', visible: false })\n    }\n  }\n\n  updateWaterMelon = async (params: any) => {\n    const { id } = this.props.unFinishedWaterMelon\n    try {\n      const response = await http.put(`/tomatoes/${id}`, params)\n      this.props.updateWaterMelon(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  handleOk = (e: any) => {\n    const { description } = this.state\n    const ended_at = new Date()\n    this.updateWaterMelon({ description, ended_at })\n    this.setState({ description: '', visible: false })\n  }\n\n  handleCancel = (e: any) => {\n    this.setState({ visible: false })\n  }\n\n  abort = () => {\n    this.setState({ visible: true })\n  }\n\n  render() {\n    let waterMelon = this.props.unFinishedWaterMelon\n    let html = <div/>\n    const modal = <Modal\n      visible={this.state.visible}\n      onOk={this.handleOk}\n      onCancel={this.handleCancel}\n      okText=\"放弃西瓜\"\n      cancelText=\"取消\"\n      >\n      <h3 style={{\n        textAlign: 'center'\n      }}>你被什么事情打断了?</h3>\n      <Input\n        value={this.state.description}\n        onChange={e => this.setState({description: e.target.value})}\n        onKeyUp={e => this.abortWaterMelon(e)}\n      />\n    </Modal>\n    const closeIcon = <CloseCircleOutlined\n      className=\"icon-close\"\n      style={{\n        color: '#bbb',\n        cursor: 'pointer'\n      }}\n      onClick={this.abort} />\n\n    if (waterMelon === undefined) {\n      // eslint-disable-next-line\n      html = <Button className=\"start-task-btn\" onClick={this.props.startWaterMelon} >开始🍉</Button>\n    } else {\n      const startedAtTime = Date.parse(waterMelon.started_at)\n      const currentTime = new Date().getTime()\n      const deltaTime = currentTime - startedAtTime\n      const { duration } = waterMelon\n\n      // 倒计时已到\n      if (deltaTime > duration) {\n        // 显示 input 框\n        html = <div className=\"input-wrapper\">\n          <Input\n            placeholder=\"你刚刚完成了什么工作?\"\n            value={this.state.description}\n            onChange={e => this.setState({description: e.target.value})}\n            onKeyUp={e => this.onKeyUp(e)}\n          />\n          {closeIcon}\n        </div>\n      } else if (deltaTime < duration) {\n        // 显示倒计时组件\n        const time = duration - (currentTime - startedAtTime)\n        html = <div className=\"count-down-wrapper\">\n          <CountDown time={time} onEnd={this.onEnd} duration={duration}/>\n          {closeIcon}\n        </div>\n      }\n    }\n\n    return (\n      <div className=\"watermelon-action\">\n        { html }\n        { modal }\n      </div>\n    )\n  }\n}\n\nexport default waterMelonAction\n","import React, { Component } from 'react'\nimport { format } from 'date-fns'\n\nimport './waterMelonList.styl'\n\ninterface IWaterMelonListProps {\n  finishedWaterMelons: any\n}\n\nconst WaterMelonItem = (props: any) => \n<li className=\"watermelon-item\">\n  <span className=\"time-range\">\n    {format(new Date(props.started_at), 'H:mm')} - {format(new Date(props.ended_at), 'H:mm')}\n  </span>\n  <span className=\"description\">{props.description}</span>\n</li>\n\nexport class waterMelonList extends Component<IWaterMelonListProps, any> {\n\n  get datesKeys() {\n    const datesKeys = Object.keys(this.props.finishedWaterMelons)\n    return datesKeys\n      .sort((a, b) => Date.parse(b) - Date.parse(a))\n      .splice(0, 3) // 只需要最近三天的数据\n  }\n\n  render() {\n    const list = this.datesKeys.map(datesKey => {\n      const waterMelons = this.props.finishedWaterMelons[datesKey]\n      return (\n        <li className=\"daily-watermelons\" key={datesKey}>\n          <div className=\"title\">\n            <span className=\"date-time\">{format(new Date(datesKey), 'M月d日')}</span>\n            <span className=\"finished-watermelon-number\">完成了 {waterMelons.length} 个西瓜</span>\n          </div>\n          <ul className=\"watermelon-list-detail\">\n            {\n              waterMelons.map((wm: any) => <WaterMelonItem key={wm.id} {...wm}/>)\n            }\n          </ul>\n        </li>\n      )\n    })\n\n    return (\n      <ul className=\"watermelon-list\">\n        {list}\n      </ul>\n    )\n  }\n}\n\nexport default waterMelonList\n","import {\n  ADD_WATERMELON,\n  INIT_WATERMELON,\n  UPDATE_WATERMELON\n} from '../actionTypes'\n\nexport const addWaterMelon = (payload: any) => {\n  return {\n    type: ADD_WATERMELON,\n    payload\n  }\n}\n\nexport const initWaterMelon = (payload: any[]) => {\n  return {\n    type: INIT_WATERMELON,\n    payload\n  }\n}\n\nexport const updateWaterMelon = (payload: any) => {\n  return {\n    type: UPDATE_WATERMELON,\n    payload\n  }\n}\n","import React, { Component } from 'react'\nimport { DropboxOutlined } from '@ant-design/icons';\n\nimport './noData.styl'\n\nexport class noData extends Component {\n  render() {\n    return (\n      <div className=\"no-data\">\n        <DropboxOutlined\n          style={{\n            fontSize: '15em',\n            color: '#eee'\n          }} />\n        <p className=\"no-record\">没有记录</p>\n      </div>\n    );\n  }\n}\n\nexport default noData\n","import React, { Component } from 'react'\nimport WaterMelonAction from './waterMelonAction'\nimport WaterMelonList from './waterMelonList'\n\nimport { connect } from 'react-redux'\nimport {\n  addWaterMelon,\n  updateWaterMelon\n} from '../../redux/actions/waterMelonActions'\n\nimport http from '../../config/http'\n\nimport _ from 'lodash'\nimport { format } from 'date-fns'\nimport NoData from './noData'\n\nimport './waterMelon.styl'\n\ninterface IWaterMelonProps {\n  initWaterMelon: (payload: any[]) => any\n  addWaterMelon: (payload: any) => any\n  updateWaterMelon: (payload: any) => void\n  waterMelons: any[]\n}\n\nexport class waterMelon extends Component<IWaterMelonProps, any> {\n\n  get unFinishedWaterMelon() {\n    // description 以及 ended_at 为 null 的就是刚刚开始的西瓜任务\n    // 点击了开始西瓜之后，会出现倒计时，此时该西瓜的 description 和 ended_at 为 null\n    // 当 input 出现时，提交信息后会修改该西瓜的 description 以及 ended_at\n    return this.props.waterMelons.filter(\n      wm => !wm.description && !wm.ended_at && !wm.aborted && !wm?.extra?.deleted\n    )[0]\n  }\n\n  get finishedWaterMelons() {\n    const finishedWaterMelons = this.props.waterMelons.filter(\n      wm => wm.description && wm.ended_at && !wm.aborted && !wm?.extra?.deleted\n    )\n    // // 这里按照 x年x月x日 的形式排列数据\n    return _.groupBy(finishedWaterMelons, (wm: any) => {\n      return format(new Date(wm.started_at), 'yyyy-M-d')\n    })\n  }\n\n  startWaterMelon = async () => {\n    try {\n      const response = await http.post('/tomatoes', {\n        duration: 1500000 // 25min = 25 * 60 * 1000ms\n        // duration: 10000 // test 10s\n      })\n      this.props.addWaterMelon(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  render() {\n    const HasWaterMelons = <WaterMelonList finishedWaterMelons={this.finishedWaterMelons} />\n    const NoWaterMelons = <NoData/>\n    return (\n      <div className=\"watermelon\">\n        <WaterMelonAction\n          startWaterMelon={this.startWaterMelon}\n          unFinishedWaterMelon={this.unFinishedWaterMelon}\n          updateWaterMelon={this.props.updateWaterMelon}\n        />\n        {Object.keys(this.finishedWaterMelons).length > 0 ? HasWaterMelons : NoWaterMelons}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  return {\n    waterMelons: state.waterMelonReducer,\n    ...ownProps\n  }\n}\n\nconst mapDispatchToProps = {\n  addWaterMelon,\n  updateWaterMelon\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(waterMelon)\n","import React, { Component } from 'react'\n\nimport './polyline.styl'\n\ninterface IPolylineProps {\n  data: any\n  finishedCount: number\n  width?: number\n}\n\nexport class polyline extends Component\n<IPolylineProps, any> {\n\n  points = () => {\n    let { data, finishedCount, width } = this.props\n    const datesKeys = Object.keys(data).sort(\n      (a, b) => {\n        return Date.parse(a) - Date.parse(b)\n      }\n    )\n\n\n    const firstDay = datesKeys[0]\n    const startPoints = '0,60'\n    const lastPoints = `${width},60`\n    if (!firstDay) return [`${startPoints}`, `${lastPoints}`].join(' ')\n\n    const lastDay = datesKeys[datesKeys.length - 1]\n    // 若是同一天有很多任务，并且只有这一天的情况下，dayRange 有可能是 0\n    const dayRange = Date.parse(lastDay) - Date.parse(firstDay) || 1\n    let count = 0\n    let lastY\n    // 画折线图需要 x y 坐标\n    // 有断点的折线图每个 x y 都是有范围的\n    // 所以这里需要除一个 range\n    const pointsArray = datesKeys.map((datesKey: any) => {\n      const x = (Date.parse(datesKey) - Date.parse(firstDay)) / dayRange * (width || 320)\n      count += this.props.data[datesKey].length\n      const y = (1 -  (count / finishedCount)) * 60\n      lastY = y\n      return `${x},${y}`\n    })\n    return [`${startPoints}`, ...pointsArray, `${width},${lastY}`, `${lastPoints}`].join(' ')\n  }\n\n  render() {\n    return (\n      <svg className=\"polyline peity\" width=\"100%\" height=\"60\">\n        <polygon\n          fill=\"rgba(215,78,78,0.1)\"\n          points={this.points()}\n        />\n        <polygon\n          fill=\"none\"\n          stroke=\"rgba(215,78,78,0.5)\"\n          strokeWidth=\"1\"\n          strokeLinecap=\"square\"\n          points={this.points()}\n        />\n      </svg>\n    )\n  }\n}\n\nexport default polyline\n","import React, { Component } from 'react'\n\nimport './barChart.styl'\n\ninterface IBarChartProps {\n  data: any[]\n  finishedCount: number\n}\n\nconst height = 60\nconst gap = 3 // x 坐标之间的间隔\n\nexport class barChart extends Component\n<IBarChartProps> {\n  points = () => {\n    const { data, finishedCount } = this.props\n    const xRange = 10\n    // 利用 reduce 找出数据中7天中完成西瓜数最多的数\n    const yRange = data.reduce(\n      (acc, cur) => {\n        return acc > cur.length ? acc : cur.length\n      },\n      0\n    )\n    return data.map((item, index) => {\n      const x = (index + gap) / xRange * finishedCount - 8\n      let y = (1 - item.length / (yRange || 1)) * height\n      y >= height && (y = height - 1)\n      return [x, y]\n    })\n  }\n\n  render() {\n    return (\n      <svg className=\"bar-chart\" width='100%' height={height}>\n      {\n        this.points().map((point, index) => (\n          <rect key={index} fill=\"rgba(215,78,78,0.5)\" \n            x={point[0]} y={point[1]} \n            width={16} height={height - point[1] || 0}\n          />\n        ))\n      }\n      </svg>\n    )\n  }\n}\n\nexport default barChart\n","import { format } from 'date-fns'\n\n/**\n *\n * @param element 监听元素\n * @param eventType 监听事件\n * @param selector element 中的子元素\n * @param fn 需要执行的操作\n */\n\nexport function delegate(\n  element: any,\n  eventType: any,\n  selector: any,\n  fn: any\n): any {\n    element.addEventListener(eventType, (e: any) => {\n      let el = e.target\n      while (!el.matches(selector)) {\n        if (element === el) {\n          el = null\n          break\n        }\n        el = el.parentNode\n      }\n      el && fn.call(el, e, el)\n    })\n    return element\n   }\n\nexport function dayOfWeekTransfer(date: string): any {\n  const dayMap = ['周一', '周二', '周三', '周四', '周五', '周六', '周日']\n  const index = parseInt(format(new Date(date), 'i'), 10) - 1\n  return dayMap[index]\n}\n\nexport function yearMonthDayTransfer(date: string): any {\n  const arr = date.split('-')\n  return `${arr[0]}年${arr[1]}月${arr[2]}日`\n}\n\n\nexport function timeTransfer (time: string, formatText: string, itemType: string): any {\n  const formattedTime = format(new Date(time), formatText)\n  const arr = formattedTime.split('-')\n  const str = itemType === 'finished' || itemType === 'aborted'\n    ? formattedTime\n    : `${arr[0]}年${arr[1]}月${arr[2]}日`\n  return str\n}\n\nexport function formatTimeToClock(date: string) {\n  return format(new Date(date), 'HH:mm')\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { updateTodo } from '../../../redux/actions/todosActions'\nimport http from '../../../config/http'\nimport { timeTransfer, formatTimeToClock } from '../../../helper/util'\n\nimport './todosHistoryItem.styl'\n\ninterface ITodosHistoryItemProps {\n  todo: any\n  itemType: string\n  updateTodo: (payload: any) => void\n}\n\ninterface ITodosHistoryItemState {\n  restoreText: string\n  deleteText: string\n}\n\nexport class todosHistoryItem extends Component\n<ITodosHistoryItemProps, ITodosHistoryItemState> {\n\n  constructor(props: ITodosHistoryItemProps) {\n    super(props);\n    this.state = {\n      restoreText: '恢复',\n      deleteText: '删除'\n    }\n  }\n\n  update = async (e: any, params: any) => {\n    const {id} = this.props.todo\n    // const {className} = e.currentTarget\n    // this.changeActionText({submit: true, className})\n    try {\n      const response = await http.put(`/todos/${id}`, params)\n      this.props.updateTodo(response.data.resource)\n      // this.changeActionText({submit: false, className})\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  changeActionText = (params: any) => {\n    const { submit, className } = params\n    if (className === 'restore') {\n      submit ? this.changeRestoreText('提交中...') : this.changeRestoreText('恢复')\n    }\n  }\n\n  changeRestoreText = (restoreText: string) => {\n    this.setState({ restoreText })\n  }\n\n  changeDeleteText = (deleteText: string) => {\n    this.setState({ deleteText })\n  }\n\n  render() {\n    const { updated_at, created_at, description } = this.props.todo\n    const { itemType } = this.props\n    // 已完成的任务中有 恢复和删除按钮\n    const restoreAndDeleteAction = <div className=\"action\">\n      <span className=\"restore\" onClick={e => this.update(e, {completed: false})}>\n        {this.state.restoreText}\n      </span>\n      <span className=\"delete\" onClick={e => this.update(e, {deleted: true})}>\n        {this.state.deleteText}\n      </span>\n    </div>\n    // 已删除的任务中有 恢复按钮\n    const restoreAction = <div className=\"action\">\n      <span className=\"restore\" onClick={e => this.update(e, {deleted: false})}>\n        {this.state.restoreText}\n      </span>\n    </div>\n\n    const mapItemTypeToAction: any = {\n      finished: {\n        formatText: 'HH:mm',\n        time: updated_at,\n        action: restoreAndDeleteAction\n      },\n      deleted: {\n        formatText: 'yyyy-MM-dd',\n        time: created_at,\n        action: restoreAction\n      }\n    }\n\n    const {\n      formatText,\n      time,\n      action\n    } = mapItemTypeToAction[itemType]\n\n    const clock = <span className=\"clock\">{formatTimeToClock(time)}</span>\n\n    return (\n      <div className=\"todos-history-item\">\n        <div className=\"text\">\n          <span className=\"time\">{timeTransfer(time, formatText, itemType)}</span>\n          {\n            itemType === 'deleted' ? clock : null\n          }\n          <span className=\"description\">{description}</span>\n        </div>\n        { action }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = {\n  updateTodo\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(todosHistoryItem)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { format } from 'date-fns'\nimport _ from 'lodash'\nimport { Tabs, Pagination } from 'antd'\nimport TodosHistoryItem from './todosHistoryItem'\nimport {\n  dayOfWeekTransfer,\n  yearMonthDayTransfer\n} from '../../../helper/util'\n\nimport './todosHistory.styl'\n\nconst TabPane = Tabs.TabPane\n\ninterface ITodosHistoryProps {\n  todos: any[]\n}\ninterface ITodosHistoryState {\n  currentPage: number\n  deletedCurrentPage: number\n}\n\nexport class todosHistory extends Component\n<ITodosHistoryProps, ITodosHistoryState> {\n  constructor(props: ITodosHistoryProps) {\n    super(props)\n    this.state = {\n      currentPage: 1,\n      deletedCurrentPage: 1\n    }\n  }\n\n  get finishedTodos() {\n    return this.props.todos.filter((todo: any) => todo.completed && !todo.deleted)\n  }\n  get deletedTodos() {\n    return this.props.todos.filter((todo: any) => todo.deleted)\n  }\n  get dailyFinishedTodos() {\n    return _.groupBy(this.finishedTodos, (todo: any) => {\n      return format(new Date(todo.updated_at), 'yyyy-MM-dd')\n    })\n  }\n  get finishedDatesKeys() {\n    const {currentPage} = this.state\n    return Object.keys(this.dailyFinishedTodos)\n    .sort(\n      // 倒序排列\n      (a, b) => Date.parse(b) - Date.parse(a)\n    )\n    .slice((currentPage-1)*3, currentPage*3) // 分页逻辑\n  }\n\n  get finishedTodosLength() {\n    return this.finishedTodos.length\n  }\n\n  get deletedTodosLength() {\n    return this.deletedTodos.length\n  }\n\n  togglePagination = (currentPage: number) => {\n    this.setState({currentPage})\n  }\n\n  toggleDeletedPagination = (deletedCurrentPage: number) => {\n    this.setState({deletedCurrentPage})\n  }\n\n  render() {\n    const finishedTodosList = this.finishedDatesKeys.map(\n      (datesKey: any) => {\n        const todos = this.dailyFinishedTodos[datesKey]\n        return (\n          <div className=\"daily-todos\" key={datesKey}>\n\n            <div className=\"summary\">\n              <div className=\"date-wrapper\">\n                <p className=\"date\">\n                  <span className=\"year-month-day\">{yearMonthDayTransfer(datesKey)}</span>\n                  <span className=\"day\">{dayOfWeekTransfer(datesKey)}</span>\n                </p>\n                <p className=\"finished-todos-count\">完成了 {todos.length} 个任务</p>\n              </div>\n            </div>\n\n            <div className=\"todos-list\">\n              {\n                todos.map(\n                  (todo: any) =>\n                    <TodosHistoryItem\n                      key={todo.id}\n                      todo={todo}\n                      itemType=\"finished\"\n                    />\n                )\n              }\n            </div>\n          </div>\n        )\n      }\n    )\n\n    const {deletedCurrentPage} = this.state\n    const deletedTodosList = this.deletedTodos\n    .slice((deletedCurrentPage - 1)*12, deletedCurrentPage*12)\n    .map(\n      (todo: any) =>\n        <TodosHistoryItem\n          key={todo.id}\n          todo={todo}\n          itemType=\"deleted\"\n        />\n    )\n    return (\n      <Tabs defaultActiveKey=\"1\" type=\"card\">\n\t\t\t\t<TabPane tab=\"已完成的任务\" key=\"1\">\n\t\t\t\t\t<div className=\"todos-history\">\n\t\t\t\t\t\t{finishedTodosList}\n\t\t\t\t\t</div>\n          <div className=\"tab-pane-page-footer\">\n            <Pagination defaultCurrent={1}\n              pageSize={3} // 每页显示3条数据，可以与上面的 currentPage*3 对应上\n              hideOnSinglePage={true}\n              total={Object.keys(this.dailyFinishedTodos).length}\n              current={this.state.currentPage}\n              onChange={this.togglePagination}\n            />\n            <div></div>\n            <p className=\"total-num-of-todos\">总计 {this.finishedTodosLength} 个已完成的任务</p>\n          </div>\n\t\t\t\t</TabPane>\n\t\t\t\t<TabPane tab=\"已删除的任务\" key=\"2\">\n\t\t\t\t\t<div className=\"todos-history\">\n\t\t\t\t\t\t{deletedTodosList}\n\t\t\t\t\t</div>\n          <div className=\"tab-pane-page-footer\">\n            <Pagination defaultCurrent={1}\n              pageSize={12}\n              hideOnSinglePage={true}\n              total={this.deletedTodos.length}\n              current={this.state.deletedCurrentPage}\n              onChange={this.toggleDeletedPagination}\n            />\n            <div></div>\n            <p className=\"total-num-of-todos\">总计 {this.deletedTodosLength} 个已删除的任务</p>\n          </div>\n\t\t\t\t</TabPane>\n\t\t\t</Tabs>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  todos: state.todosReducer,\n  ...ownProps\n})\n\nexport default connect(mapStateToProps)(todosHistory)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { updateWaterMelon } from '../../../redux/actions/waterMelonActions'\nimport http from '../../../config/http'\nimport { timeTransfer } from '../../../helper/util'\nimport classNames from 'classnames'\n\nimport './waterMelonsHistoryItem.styl'\n\ninterface IWaterMelonsHistoryItemProps {\n  watermelon: any\n  itemType: string\n  updateWaterMelon: (payload: any) => void\n}\n\ninterface IWaterMelonsHistoryItemState {\n  editText: string\n  deleteText: string\n  editable: boolean\n  editingText: string\n  isEnterCode: boolean\n}\n\nexport class waterMelonsHistoryItem extends Component\n<IWaterMelonsHistoryItemProps, IWaterMelonsHistoryItemState> {\n\n  constructor(props: IWaterMelonsHistoryItemProps) {\n    super(props);\n    this.state = {\n      editText: '编辑',\n      deleteText: '删除',\n      editable: false,\n      editingText: this.props.watermelon.description,\n      isEnterCode: false\n    }\n  }\n\n  update = async (e: any, params: any) => {\n    const {id} = this.props.watermelon\n    try {\n      const response = await http.put(`/tomatoes/${id}`, params)\n      this.props.updateWaterMelon(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  changeActionText = (params: any) => {\n    const { submit, className } = params\n    if (className === 'edit') {\n      submit ? this.changeEditText('提交中...') : this.changeEditText('编辑')\n    } else {\n      submit ? this.changeDeleteText('提交中...') : this.changeDeleteText('删除')\n    }\n  }\n\n  changeEditText = (editText: string) => {\n    this.setState({ editText })\n  }\n\n  changeDeleteText = (deleteText: string) => {\n    this.setState({ deleteText })\n  }\n\n  onEditClick = (e: any) => {\n    const { description } = this.props.watermelon\n    this.setState({ editable: true, editingText: description || undefined })\n    this.changeEditText('提交')\n    this.changeDeleteText('取消')\n  }\n\n  onDeleteClick = (e: any) => {\n    const { description, aborted } = this.props.watermelon\n    this.update(e, {\n      description, aborted,\n      extra: { deleted: true }\n    })\n  }\n\n  onSubmitClick = (e: any) => {\n    this.update(e, {\n      description: this.state.editingText,\n      aborted: this.props.itemType === 'aborted'\n    })\n    this.setState({editable: false})\n    this.changeEditText('编辑')\n    this.changeDeleteText('删除')\n  }\n\n  onCancelClick = (e: any) => {\n    this.setState({ editable: false })\n    this.changeEditText('编辑')\n    this.changeDeleteText('删除')\n  }\n\n  onEditingChange = (e: any) => {\n    // 先触发 resize 后触发 render\n    // 避免两次渲染造成的内容抖动\n    !this.state.isEnterCode && this.resize()\n    this.setState({ editingText: e.target.value })\n  }\n\n  onEditingKeyDown = (e: any) => {\n    if (e.keyCode === 13 && this.state.editingText !== '') {\n      this.setState({ editable: false, isEnterCode: true })\n      this.changeEditText('编辑')\n      this.changeDeleteText('删除')\n      this.update(e, {\n        description: this.state.editingText,\n        aborted: this.props.itemType === 'aborted'\n      })\n    }\n  }\n\n  onEditingFocus = (e: any) => {\n    this.resize()\n  }\n\n  // textarea resize 参考\n  // https://www.jianshu.com/p/2fab017977bb\n  resize = ()=> {\n    if (this.inputRef) {\n      const { current } = this.inputRef\n      const { style } = current as any\n      style!.height = 'auto'\n      style!.height = (current!.scrollHeight) + 'px'\n    }\n  }\n\n  inputRef = React.createRef<HTMLTextAreaElement>()\n\n  render() {\n    const { updated_at, created_at, description, manually_created } = this.props.watermelon\n    const { itemType } = this.props\n    const formatText = 'HH:mm'\n\n    const desc = manually_created\n      ? <p className=\"supply\"><span>{description}</span><span className=\"supply-info\">（补）</span></p>\n      : description\n\n    const normalDescription = <div className=\"description\">\n      {/* eslint-disable-next-line */}\n      {desc || <span className=\"null\">🍉描述为空</span>}\n    </div>\n    const inputDescription = <textarea\n      ref={this.inputRef}\n      rows={1} cols={30}\n      className=\"editing-input\"\n      value={this.state.editingText}\n      onChange={e => this.onEditingChange(e)}\n      onKeyDown={e => this.onEditingKeyDown(e)}\n      onFocus={e => this.onEditingFocus(e)}\n    />\n\n    const normalAction = <div className=\"action\">\n      <span className=\"edit\" onClick={e => this.onEditClick(e)}>\n        {this.state.editText}\n      </span>\n      <span className=\"delete\" onClick={e => this.onDeleteClick(e)}>\n        {this.state.deleteText}\n      </span>\n    </div>\n\n    const inputAction = <div className=\"action\">\n      <span className=\"submit\" onClick={e => this.onSubmitClick(e)}>\n        {this.state.editText}\n      </span>\n      <span className=\"cancel\" onClick={e => this.onCancelClick(e)}>\n        {this.state.deleteText}\n      </span>\n    </div>\n\n    const Description = this.state.editable ? inputDescription : normalDescription\n    const Action = this.state.editable ? inputAction : normalAction\n\n    const waterMelonHistoryItemClasses = classNames({\n      watermelonsHistoryItem: true,\n      editable: this.state.editable\n    })\n\n    return (\n      <div className={waterMelonHistoryItemClasses}>\n        <div className=\"text\">\n          <p className=\"time\">\n            {timeTransfer(created_at, formatText, itemType)}\n            <span> - </span>\n            {timeTransfer(updated_at, formatText, itemType)}\n          </p>\n          { Description }\n        </div>\n        { Action }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = {\n  updateWaterMelon\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(waterMelonsHistoryItem)\n","import React, { Component } from 'react'\nimport {Button, DatePicker, Form, Input, message} from 'antd'\nimport locale from 'antd/lib/date-picker/locale/zh_CN'\nimport './newWaterMelon.styl'\n\nconst FormItem = Form.Item\n\ninterface INewWaterMelonProps {\n  cancelAddPane: () => void\n  addNewWaterMelon: (params: any) => void\n}\n\ninterface INewWaterMelonState {\n  startedAt: any\n  endedAt: any\n  description: string\n}\n\nclass newWaterMelon extends Component\n<INewWaterMelonProps, INewWaterMelonState> {\n  constructor(props: INewWaterMelonProps) {\n    super(props)\n    this.state = {\n      startedAt: '',\n      endedAt: '',\n      description: ''\n    }\n  }\n\n  // 提交时需要进行表单验证\n  submitNewWaterMelon = (values: any) => {\n    const { startedAt, endedAt, description } = this.state\n\n    if (!description) return message.error('请检查是否已经填写好[西瓜描述]')\n    if (!endedAt || !startedAt) return message.error('请检查是否已经填写好[开始/结束]时间')\n    if (startedAt.valueOf() > endedAt.valueOf()) return message.error('不合理的时间设置')\n\n    this.props.addNewWaterMelon({\n      started_at: startedAt,\n      ended_at: endedAt,\n      description,\n      manually_created: true\n    })\n\n    // 提交完成时应该关闭 pane\n    this.props.cancelAddPane()\n  }\n\n  // 保存开始时间\n  saveStartedAtTime = (e: any) => {\n    if (!e) return this.setState({startedAt: ''})\n\n    const startedAt =  new Date(e.toDate())\n    if(startedAt !== this.state.startedAt) {\n      const { endedAt } = this.state\n      if(!endedAt) return this.setState({ startedAt })\n      if(startedAt.valueOf() > endedAt.valueOf()) return message.error('不合理的时间设置')\n\n      this.setState({ startedAt })\n    }\n  }\n\n  // 保存结束时间\n  saveEndedAtTime = (e: any) => {\n    if (!e) return this.setState({endedAt: ''})\n\n    const endedAt = new Date(e.toDate())\n    if(endedAt !== this.state.endedAt) {\n      const { startedAt } = this.state\n      if(!startedAt) return this.setState({ endedAt })\n      if(startedAt.valueOf() > endedAt.valueOf()) return message.error('不合理的时间设置')\n\n      this.setState({ endedAt })\n    }\n  }\n\n  // 保存西瓜描述\n  saveDescription = (e: any) => {\n    if(e.target.value === this.state.description) return\n    this.setState({ description: e.target.value })\n  }\n\n  // 不可选择的日期\n  disabledDate = (current: any) => {\n    return current && current.toDate() > new Date()\n  }\n\n  render() {\n    return (\n      <div className=\"new-watermelon-pane\">\n        <Form onFinish={this.submitNewWaterMelon}>\n          <div>\n            <FormItem label=\"开始日期\">\n              <DatePicker showTime={true} onChange={this.saveStartedAtTime}\n                locale={locale}\n                disabledDate={this.disabledDate} format='YYYY-MM-DD HH:mm'/>\n            </FormItem>\n          </div>\n          <div>\n            <FormItem label=\"结束日期\">\n              <DatePicker showTime={true} onChange={this.saveEndedAtTime}\n                locale={locale}\n                disabledDate={this.disabledDate}  format='YYYY-MM-DD HH:mm'/>\n            </FormItem>\n          </div>\n          <div>\n            <FormItem label=\"🍉 描述\">\n              <Input value={this.state.description} onChange={this.saveDescription}/>\n            </FormItem>\n          </div>\n          <div>\n            <FormItem>\n              <Button className=\"submit-btn\" type=\"primary\" htmlType=\"submit\">提交</Button>\n              <Button type=\"default\" onClick={this.props.cancelAddPane} htmlType=\"button\">取消</Button>\n            </FormItem>\n          </div>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default newWaterMelon\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { format } from 'date-fns'\nimport _ from 'lodash'\nimport { Tabs, Pagination, Button, Tooltip } from 'antd'\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons'\nimport {\n  dayOfWeekTransfer,\n  yearMonthDayTransfer\n} from '../../../helper/util'\nimport WaterMelonHistoryItem from './waterMelonsHistoryItem'\nimport AddNewWaterMelon from './newWaterMelon'\n\nimport './waterMelonsHistory.styl'\n\nconst TabPane = Tabs.TabPane\n\ninterface IWaterMelonsHistoryProps {\n  waterMelons: any[]\n  addNewWaterMelon: (params: any) => any\n}\ninterface IWaterMelonsHistoryState {\n  currentPage: number\n  abortedCurrentPage: number\n  tabKey: string\n  isShowSupplyPane: boolean\n}\n\nconst List = (Props: any, Slot?: any) => {\n  const { datesKey, watermelons, itemType } = Props\n  return (\n    <div className=\"daily-watermelons\" key={datesKey}>\n\n      <div className=\"summary\">\n        <div className=\"date-wrapper\">\n          <p className=\"date\">\n            <span className=\"year-month-day\">{yearMonthDayTransfer(datesKey)}</span>\n            <span className=\"day\">{dayOfWeekTransfer(datesKey)}</span>\n          </p>\n          {Slot || ''}\n        </div>\n      </div>\n\n      <div className=\"watermelons-list\">\n        {\n          watermelons.map(\n            (wm: any) =>\n              <WaterMelonHistoryItem\n                key={wm.id}\n                watermelon={wm}\n                itemType={itemType}\n              />\n          )\n        }\n      </div>\n    </div>\n  )\n}\n\nexport class waterMelonsHistory extends Component\n<IWaterMelonsHistoryProps, IWaterMelonsHistoryState> {\n  constructor(props: IWaterMelonsHistoryProps) {\n    super(props)\n    this.state = {\n      currentPage: 1,\n      abortedCurrentPage: 1,\n      tabKey: '1',\n      isShowSupplyPane: false\n    }\n  }\n\n  get finishedWaterMelons() {\n     return this.props.waterMelons.filter(\n       (wm: any) =>\n        wm.description && wm.ended_at && !wm.aborted && !wm?.extra?.deleted\n     )\n  }\n\n  get abortedWaterMelons() {\n    return this.props.waterMelons.filter((wm: any) => wm.aborted && !wm?.extra?.deleted)\n  }\n\n  get dailyFinishedWaterMelons() {\n    return _.groupBy(this.finishedWaterMelons, (wm: any) => {\n      return format(new Date(wm.started_at), 'yyyy-M-d')\n    })\n  }\n\n  get dailyAbortedWaterMelons() {\n    return _.groupBy(this.abortedWaterMelons, (wm: any) => {\n      return format(new Date(wm.started_at), 'yyyy-M-d')\n    })\n  }\n\n  get finishedDatesKeys() {\n    const {currentPage} = this.state\n    return Object.keys(this.dailyFinishedWaterMelons)\n    .sort(\n      (a, b) => Date.parse(b) - Date.parse(a)\n    )\n    .slice((currentPage-1)*3, currentPage*3) // 分页逻辑\n  }\n\n  get abortedDatesKeys() {\n    const {abortedCurrentPage} = this.state\n    return Object.keys(this.dailyAbortedWaterMelons)\n    .sort(\n      (a, b) => Date.parse(b) - Date.parse(a)\n    )\n    .slice((abortedCurrentPage-1)*3, abortedCurrentPage*3) // 分页逻辑\n  }\n\n  get finishedTodosLength() {\n    let length = 0\n    Object.keys(this.dailyFinishedWaterMelons).forEach(key => {\n      length += this.dailyFinishedWaterMelons[key].length\n    })\n    return length\n  }\n  get abortedTodosLength() {\n    let length = 0\n    Object.keys(this.dailyAbortedWaterMelons).forEach(key => {\n      length += this.dailyAbortedWaterMelons[key].length\n    })\n    return length\n  }\n\n  togglePagination = (currentPage: number) => {\n    this.setState({currentPage})\n  }\n  toggleAbortedPagination = (abortedCurrentPage: number) => {\n    this.setState({abortedCurrentPage})\n  }\n\n  onChangeTab = (tabKey: string) => {\n    tabKey !== this.state.tabKey && this.setState({tabKey})\n  }\n\n  cancelAddPane = () => {\n    this.setState({isShowSupplyPane: false})\n  }\n\n  addNewWaterMelon = (params: any) => {\n    this.setState({isShowSupplyPane: true})\n    this.props.addNewWaterMelon(params)\n  }\n\n  onSupplyWaterMelonBtnClick = () => {\n    this.setState({isShowSupplyPane: !this.state.isShowSupplyPane})\n  }\n\n  render() {\n    const finishedWaterMelonsList = this.finishedDatesKeys.map(\n      (datesKey: any) => {\n        const watermelons = this.dailyFinishedWaterMelons[datesKey]\n        const Props = { datesKey, watermelons, itemType: 'finished' }\n        const Slot = <p className=\"finished-watermelons-count\">完成了 {watermelons.length} 个西瓜</p>\n        return List(Props, Slot)\n      }\n    )\n\n    const abortedWaterMelonsList = this.abortedDatesKeys.map(\n      (datesKey: any) => {\n        const watermelons = this.dailyAbortedWaterMelons[datesKey]\n        const Props = { datesKey, watermelons, itemType: 'aborted' }\n        return List(Props)\n      }\n    )\n    const icon = this.state.isShowSupplyPane\n      ? <MinusOutlined />\n      : <PlusOutlined />\n    const operations = this.state.tabKey === '1'\n      ? (\n        <Tooltip title=\"补记🍉\">\n          <Button className=\"supply-watermelon\"\n            icon={icon}\n            onClick={this.onSupplyWaterMelonBtnClick}\n          />\n        </Tooltip>\n      )\n      : null\n\n    return (\n      <Tabs defaultActiveKey=\"1\" type=\"card\" tabBarExtraContent={operations}\n        onChange={this.onChangeTab}\n      >\n\t\t\t\t<TabPane tab=\"完成的🍉\" key=\"1\">\n          {\n            this.state.isShowSupplyPane\n              ? <AddNewWaterMelon\n                cancelAddPane={this.cancelAddPane}\n                addNewWaterMelon={this.addNewWaterMelon}\n              />\n              : null\n          }\n\t\t\t\t\t<div className=\"watermelons-history\">\n\t\t\t\t\t\t{finishedWaterMelonsList}\n\t\t\t\t\t</div>\n          <div className=\"tab-pane-page-footer\">\n            <Pagination defaultCurrent={1}\n              pageSize={3} // 每页显示3条数据，可以与上面的 currentPage*3 对应上\n              hideOnSinglePage={true}\n              total={Object.keys(this.dailyFinishedWaterMelons).length}\n              current={this.state.currentPage}\n              onChange={this.togglePagination}\n            />\n            <div></div>\n            <p className=\"total-num-of-todos\">总计 {this.finishedTodosLength} 个已完成的任务</p>\n          </div>\n\t\t\t\t</TabPane>\n\t\t\t\t<TabPane tab=\"打断记录\" key=\"2\">\n\t\t\t\t\t<div className=\"watermelons-history\">\n\t\t\t\t\t\t{abortedWaterMelonsList}\n\t\t\t\t\t</div>\n          <div className=\"tab-pane-page-footer\">\n            <Pagination defaultCurrent={1}\n              pageSize={3}\n              hideOnSinglePage={true}\n              total={Object.keys(this.abortedWaterMelons).length}\n              current={this.state.abortedCurrentPage}\n              onChange={this.toggleAbortedPagination}\n            />\n            <div></div>\n            <p className=\"total-num-of-todos\">总计 {this.abortedTodosLength} 个打断的任务</p>\n          </div>\n\t\t\t\t</TabPane>\n\t\t\t</Tabs>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  waterMelons: state.waterMelonReducer,\n  ...ownProps\n})\n\nexport default connect(mapStateToProps)(waterMelonsHistory)\n","import React, { Component } from 'react'\nimport { Tooltip } from 'antd'\n\nimport './dotLine.styl'\n\ninterface IDotLineProps {\n  data: any\n  xRange: number\n  width: number\n}\n\n// 调整 x, y 点之间的坐标差，使得图形能够完全显示\nconst xBias = 70\nconst yBias = 10\n\n// 调整点线图中圆圈大小用的\nconst MAX_WIDTH = 707\nconst MAX_RADIUS = 5\nconst times = MAX_RADIUS / MAX_WIDTH\n\nexport class dotLine extends Component\n<IDotLineProps> {\n\n  points = () => {\n    const { data, xRange, width } = this.props\n    let yRange = Object.keys(data).reduce(\n      (acc, cur) => {\n        return acc > data[cur].length ? acc : data[cur].length\n      }\n    , 0)\n    yRange === 0 && (yRange = 5)\n    return Object.keys(data).map(\n      date => {\n        const x = (new Date(date).getDate() - 0.5) / xRange * (width - xBias)\n        const y = (1 - data[date].length / yRange) * 160 + yBias\n        return [x, y, data[date].length]\n      }\n    )\n  }\n\n  get circleRadius() {\n    const { width } = this.props\n    let radius = width > MAX_WIDTH ? MAX_RADIUS : times * width\n    return '' + radius\n  }\n\n  render() {\n    return (\n      <div className=\"dot-line\">\n        <svg width='100%' height='200'>\n          <rect x={0} y={0} width='100%' height={170}/>\n          <path\n            d={\n              this.points().reduce(\n                // M,x,y,x1,y1 的形式画直线\n                (acc, cur) => acc.concat(`${cur.slice(0,2).join(',')},`),\n                'M'\n              )\n            }\n           />\n          {\n            // x 坐标轴上的值显示 1 2 3 4...\n            this.points().map(\n              (point, index) => (\n                index % 2 === 0\n                ? <text key={index} x={point[0] - 5} y=\"200\">\n                    {index + 1}\n                  </text>\n                : null\n            ))\n          }\n          {\n            this.points().map((point, index) => (\n              <Tooltip\n                key={index} placement=\"top\"\n                title={`${point[2]}`} overlayClassName='daily_tips'>\n                {/* 坐标点对应的⚪ */}\n                <circle r={this.circleRadius} cx={point[0]} cy={point[1]} />\n              </Tooltip>\n            ))\n          }\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default dotLine\n","import React, { Component } from 'react'\nimport { format, getDaysInMonth } from 'date-fns'\nimport DotLine from './dotLine'\nimport classNames from 'classnames'\nimport { DatePicker } from 'antd'\nimport moment from 'moment'\n\nimport './monthlyHistoryCore.styl'\n\ninterface IMonthlyHistoryCoreProps {\n  finishedData: any\n  width: number\n}\n\ninterface IMonthlyHistoryCoreState {\n  currentMonth: string\n  currentYear: string\n}\n\nconst timeFormat = ['YYYY', 'MM']\n\nexport class monthlyHistoryCore extends Component\n<IMonthlyHistoryCoreProps, IMonthlyHistoryCoreState> {\n  constructor(props: IMonthlyHistoryCoreProps) {\n    super(props)\n    this.state = {\n      currentMonth: format(new Date(), 'MM'),\n      currentYear: format(new Date(), 'yyyy')\n    }\n  }\n\n  get totalDays() {\n    const { currentMonth, currentYear } = this.state\n    return getDaysInMonth(new Date(`${currentYear}-${currentMonth}-1`))\n  }\n\n  get totalNumber() {\n    return this.monthData.length\n  }\n\n  get daliyAverageNumber() {\n    return (this.totalNumber/this.totalDays).toFixed(2)\n  }\n\n  get monthlyIncreaseNumber() {\n    // 月增长量是通过对比上个月计算出来的\n    const { currentMonth, currentYear } = this.state\n    const prevYear = currentMonth === '01'\n      ? `${Number(currentYear) - 1}`\n      : currentYear\n    let prevMonth = currentMonth === '01'\n      ? `${12}`\n      : `${Number(currentMonth) - 1}`\n    Number(prevMonth) < 10 && (prevMonth = `0${prevMonth}`)\n\n    const prevTotalNumber = this.props.finishedData\n      .filter(\n        (data: any) =>\n        format(new Date(data.calTime), 'MM') === prevMonth\n       )\n      .filter(\n        (data: any) =>\n        format(new Date(data.calTime), 'yyyy') === prevYear\n      ).length\n\n    let increase = ((this.totalNumber - prevTotalNumber) / prevTotalNumber).toFixed(2)\n    if (Number(increase) === Infinity) increase = '1.00'\n    else if (!Number(increase)) increase = '0'\n    return increase\n  }\n\n  get monthData(){\n    const { finishedData } = this.props\n    const { currentMonth, currentYear } = this.state\n    return finishedData\n      .filter(\n        (data: any) =>\n        format(new Date(data.calTime), 'MM') === currentMonth\n       )\n      .filter(\n        (data: any) =>\n        format(new Date(data.calTime), 'yyyy') === currentYear\n      )\n  }\n\n  get dotLineData() {\n    const { currentMonth, currentYear } = this.state\n    const totalDays = this.totalDays\n\n    // 初始化 map\n    let arr = [...Array(totalDays)]\n    const map = new Map()\n    arr.forEach((item, index) => {\n      const currentDay = index + 1\n      const date = `${currentYear}-${currentMonth}-${\n        currentDay < 10\n          ? `0${currentDay}`\n          : currentDay\n      }`\n      map.set(date, [])\n    })\n\n    // 将相同日期的数据组合进一个 list 中\n    this.monthData.forEach((item: any) => {\n      const date = format(new Date(item.calTime), 'yyyy-MM-dd')\n      const list = map.get(date)\n      list.push(item)\n      map.set(date, list)\n    })\n\n    const data: any = {}\n    for (const [key, value] of map) {\n      data[key] = value\n    }\n\n    return { data, xRange: totalDays}\n  }\n\n  onChangeYear = (date: any, dateString: string) => {\n    if (!date || !dateString || this.state.currentYear === `${dateString}`) return\n    this.setState({ currentYear: dateString })\n  }\n\n  onChangeMonth = (date: any, dateString: string) => {\n    if (!date || !dateString || this.state.currentMonth === `${dateString}`) return\n    this.setState({ currentMonth: dateString })\n  }\n\n  render() {\n\n    const { width } = this.props\n    const {data, xRange} = this.dotLineData\n    const monthlyIncreaseNumber = this.monthlyIncreaseNumber\n\n    const monthlyIncreaseClasses = classNames({\n      monthlyIncrease: true,\n      number: true,\n      growable: Number(monthlyIncreaseNumber) > 0\n    })\n\n    return (\n      <div className=\"monthly-history-core\">\n        <div className=\"monthly-action\">\n          <span className=\"monthly-action-title\">当前年月: </span>\n          <div className=\"monthly-action-year\">\n            <DatePicker\n              defaultValue={moment(this.state.currentYear, timeFormat[0])}\n              format={timeFormat[0]}\n              onChange={this.onChangeYear} picker=\"year\" placeholder=\"请选择年份\" />\n            <span className=\"monthly-action-text\">年</span>\n          </div>\n          <div className=\"monthly-action-month\">\n            <DatePicker\n              defaultValue={moment(this.state.currentMonth, timeFormat[1])}\n              format={timeFormat[1]}\n              mode=\"month\"\n              onChange={this.onChangeMonth} picker=\"month\" placeholder=\"请选择月份\"/>\n            <span className=\"monthly-action-text\">月</span>\n          </div>\n        </div>\n        <div className=\"monthly-history-statistics-wrapper\">\n          <ul>\n            <li>\n              <strong className=\"number\">{this.totalNumber}</strong>\n              <span className=\"unit\">总数</span>\n            </li>\n            <li>\n              <strong className=\"number\">{this.daliyAverageNumber}</strong>\n              <span className=\"unit\">日平均数</span>\n            </li>\n            <li>\n              <strong className={monthlyIncreaseClasses}>\n                {\n                  Number(monthlyIncreaseNumber) > 0\n                    ? `+${monthlyIncreaseNumber}`\n                    : `-${monthlyIncreaseNumber}`\n                }\n              </strong>\n              <span className=\"unit\">月增长量</span>\n            </li>\n          </ul>\n          <DotLine data={data} xRange={xRange} width={width} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default monthlyHistoryCore\n","import React, { Component } from 'react'\nimport { Tabs } from 'antd'\nimport MonthlyHistoryCore from './monthlyHistoryCore'\n\nimport './monthlyHistory.styl'\n\nconst TabPane = Tabs.TabPane\n\ninterface IWeeklyHistoryProps {\n  finishedTodos: any[]\n  finishedWaterMelons: any[]\n  width: number\n}\n\nexport class weeklyHistory extends Component\n<IWeeklyHistoryProps, any> {\n\n  get finishedTodos() {\n    // return this.props.finishedTodos.map(todo => ({calTime: todo.completed_at, id: todo.id}))\n    // 暂时这么写\n    return this.props.finishedTodos.map(todo => ({calTime: todo.updated_at, id: todo.id}))\n  }\n\n  get finishedWaterMelons() {\n     return this.props.finishedWaterMelons.map(wm => ({calTime: wm.started_at, id: wm.id}))\n  }\n\n  render() {\n    const { width } = this.props\n    return (\n      <Tabs defaultActiveKey=\"1\" type=\"card\">\n\t\t\t\t<TabPane tab=\"🍉统计\" key=\"1\">\n\t\t\t\t\t<div className=\"monthly-history\">\n            <MonthlyHistoryCore\n              finishedData={this.finishedWaterMelons}\n              width={width}\n            />\n\t\t\t\t\t</div>\n\t\t\t\t</TabPane>\n\t\t\t\t<TabPane tab=\"任务统计\" key=\"2\">\n\t\t\t\t\t<div className=\"monthly-history\">\n            <MonthlyHistoryCore\n              finishedData={this.finishedTodos}\n              width={width}\n            />\n\t\t\t\t\t</div>\n\t\t\t\t</TabPane>\n\t\t\t</Tabs>\n    )\n  }\n}\n\nexport default weeklyHistory\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { format } from 'date-fns'\nimport _ from 'lodash'\nimport Polyline from './polyline'\nimport BarChart from './barChart'\nimport TodosHistory from './todosHistory/todosHistory'\nimport WaterMelonsHistory from './waterMelonsHistory/waterMelonsHistory'\nimport MonthlyHistory from './monthlyHistory/monthlyHistory'\nimport { delegate } from '../../helper/util'\nimport classNames from 'classnames'\nimport http from '../../config/http'\nimport { addWaterMelon } from '../../redux/actions/waterMelonActions'\n\nimport './statistics.styl'\n\ninterface IStatisticsProps {\n  todos: any[]\n  waterMelons: any[]\n  addWaterMelon: (payload: any) => void\n}\n\ninterface IStatisticsState {\n  mapTitleVisible: any\n  liWidth: number\n  ulWidth: number\n}\n\nexport class statistics extends Component\n<IStatisticsProps, IStatisticsState> {\n\n  constructor(props: IStatisticsProps) {\n    super(props)\n    this.state = {\n      mapTitleVisible: {\n       monthlyTitle: { visible: false },\n       watermelonTitle: { visible: false },\n       todosTitle: { visible: false }\n      },\n      liWidth: this.liRef.current?.offsetWidth || 0,\n      ulWidth: this.ulRef.current?.offsetWidth || 0\n    }\n  }\n  ulRef = React.createRef<HTMLUListElement>()\n  liRef = React.createRef<HTMLLIElement>()\n\n  updateSize = () => {\n    const liWidth = this.liRef.current?.offsetWidth || 0\n    let ulWidth = this.ulRef.current?.offsetWidth || 0\n    ulWidth < 0 && (ulWidth = 0)\n    this.state.liWidth !== liWidth && (\n      this.setState({ liWidth })\n    )\n    this.state.ulWidth !== ulWidth && (\n      this.setState({ ulWidth })\n    )\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateSize)\n  }\n\n  componentDidMount() {\n    this.updateSize()\n    window.addEventListener('resize', this.updateSize)\n\n    delegate(this.ulRef.current, 'click', 'li', (e: any, el: any) => {\n      const { className } = el\n      this.setState({\n        mapTitleVisible: {...this.initMapVisible(className)}\n      })\n    })\n  }\n\n  initMapVisible = (className: string) => {\n    const newClassName = className.split(' ')[0]\n    const { mapTitleVisible } = this.state\n    const { visible } = mapTitleVisible[newClassName]\n    mapTitleVisible[newClassName].visible = !visible\n    Object.keys(mapTitleVisible).map(key => {\n      return !newClassName.includes(key) && (mapTitleVisible[key].visible = false)\n    })\n    return mapTitleVisible\n  }\n\n  get finishedTodos() {\n    return this.props.todos.filter((todo: any) => todo.completed && !todo.deleted)\n  }\n\n  get finishedWaterMelons() {\n     return this.props.waterMelons.filter(\n       (wm: any) =>\n        wm.description && wm.ended_at && !wm.aborted && !wm.extra?.deleted\n     )\n  }\n\n  get dailyTodos() {\n    // 这里获取到的是当天更新的 todos\n    return _.groupBy(this.finishedTodos, (todo: any) => {\n      return format(new Date(todo.updated_at), 'yyyy-MM-d')\n    })\n  }\n\n  get dailyWaterMelons() {\n    return _.groupBy(this.finishedWaterMelons, (wm: any) => {\n      return format(new Date(wm.updated_at), 'yyyy-MM-d')\n    })\n  }\n\n  get monthlyWaterMelons() {\n    const weekData: any[] = [...Array(7)].map(() => [])\n    this.finishedWaterMelons.map((wm: any) => {\n      const day = new Date(wm.created_at).getDay()\n      return weekData[day].push(wm)\n    })\n    return weekData\n  }\n\n  get monthlyWaterMelonsLength() {\n    return this.finishedWaterMelons.filter(\n      wm =>\n      new Date(wm.started_at).getMonth()\n      ===\n      new Date().getMonth()\n    ).length\n  }\n\n  addNewWaterMelon = async (params: any) => {\n    try {\n      const response = await http.post(`/tomatoes`, params)\n      this.props.addWaterMelon(response.data.resource)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  render() {\n    const monthlyTitleClasses = classNames({\n      monthlyTitle: true,\n      visible: this.state.mapTitleVisible.monthlyTitle.visible\n    })\n\n    const watermelonTitleClasses = classNames({\n      watermelonTitle: true,\n      visible: this.state.mapTitleVisible.watermelonTitle.visible\n    })\n\n    const todosTitleClasses = classNames({\n      todosTitle: true,\n      visible: this.state.mapTitleVisible.todosTitle.visible\n    })\n\n    return (\n      <>\n      <ul className=\"statistics\" ref={this.ulRef}>\n        <li className={monthlyTitleClasses} ref={this.liRef}>\n          <h3 className=\"title\">统计</h3>\n          <div className=\"description-wrapper\">\n            <span className=\"description\">\n              {new Date().getMonth() + 1}月累计📈\n            </span>\n            <span className=\"number\">\n              {this.monthlyWaterMelonsLength}\n            </span>\n          </div>\n          <BarChart\n            data={this.monthlyWaterMelons}\n            finishedCount={this.state.liWidth}\n          />\n        </li>\n        <li className={watermelonTitleClasses}>\n          {/* eslint-disable-next-line */}\n          <h3 className=\"title\">🍉历史</h3>\n          <div className=\"description-wrapper\">\n            {/* eslint-disable-next-line */}\n            <span className=\"description\">累计完成🍉</span>\n            <span className=\"number\">{this.finishedWaterMelons.length}</span>\n          </div>\n          <Polyline\n            data={this.dailyWaterMelons}\n            finishedCount={this.finishedWaterMelons.length}\n            width={this.state.liWidth}\n          />\n        </li>\n        <li className={todosTitleClasses}>\n          {/* eslint-disable-next-line */}\n          <h3 className=\"title\">任务👀历史</h3>\n          <div className=\"description-wrapper\">\n            {/* eslint-disable-next-line */}\n            <span className=\"description\">累计完成任务👌</span>\n            <span className=\"number\">{this.finishedTodos.length}</span>\n          </div>\n          <Polyline\n            data={this.dailyTodos}\n            finishedCount={this.finishedTodos.length}\n            width={this.state.liWidth}\n          />\n        </li>\n      </ul>\n      <div className=\"history-wrapper\">\n        <div className={monthlyTitleClasses}>\n          <MonthlyHistory\n            finishedTodos={this.finishedTodos}\n            finishedWaterMelons={this.finishedWaterMelons}\n            width={this.state.ulWidth}/>\n        </div>\n        <div className={watermelonTitleClasses}>\n          <WaterMelonsHistory\n            addNewWaterMelon={this.addNewWaterMelon}\n          />\n        </div>\n        <div className={todosTitleClasses}>\n          <TodosHistory/>\n        </div>\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n    todos: state.todosReducer,\n    waterMelons: state.waterMelonReducer,\n    ownProps\n})\n\nconst mapDispatchToProps = {\n addWaterMelon\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(statistics)\n","import React, { Component } from 'react'\nimport http from '../../config/http'\nimport Header from '../header/header'\nimport Footer from '../footer/footer'\nimport Todos from '../todos/todos'\nimport WaterMelon from '../waterMelon/waterMelon'\nimport Statistics from '../statistics/statistics'\n\nimport { connect } from 'react-redux'\nimport { initTodos } from '../../redux/actions/todosActions'\nimport { initWaterMelon } from '../../redux/actions/waterMelonActions'\n\nimport './home.styl'\n\ninterface IIndexState {\n  userInfo: any\n}\n\nexport class home extends Component<any, IIndexState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      userInfo: {}\n    }\n  }\n\n  async componentWillMount() {\n    await this.getUserInfo()\n    await this.getTodos()\n    await this.getWaterMelon()\n  }\n\n  getUserInfo = async () => {\n    const response = await http.get('/me')\n    const userInfo = response.data\n    this.setState({ userInfo })\n  }\n\n  getTodos = async () => {\n    try {\n      const response = await http.get('/todos')\n      const { resources } = response.data\n      // mount 时需要对每个 todo 的编辑状态置为 false\n      const newTodos = resources.map((todo: any) => {\n        return Object.assign({}, todo, { editing: false })\n      })\n      this.props.initTodos(newTodos)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  getWaterMelon = async () => {\n    try {\n      const response = await http.get('/tomatoes')\n      this.props.initWaterMelon(response.data.resources)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"Home\">\n        <Header userInfo={this.state.userInfo} />\n        <main className=\"content\">\n          <WaterMelon/>\n          <Todos/>\n        </main>\n        <main className=\"statistics-content\">\n          <Statistics/>\n        </main>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = {\n  initTodos,\n  initWaterMelon\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(home)\n","import React, { Component } from 'react'\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { Input, Button } from 'antd';\nimport http from '../../config/http'\nimport { Link } from 'react-router-dom'\n\nimport './login.styl'\n\ninterface ILoginState {\n  account: string\n  password: string\n}\n\ninterface IRouter {\n  history: any\n}\n\nexport class login extends Component<IRouter, ILoginState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      account: '',\n      password: '',\n    }\n  }\n\n  onChange = (key: keyof ILoginState, e: any) => {\n    const newState = {} as ILoginState\n    newState[key] = e.target.value\n    this.setState(newState)\n  }\n\n  goToSignUp = () => {\n    this.props.history.push('/signUp')\n  }\n  goToIndex = () => {\n    this.props.history.push('/')\n  }\n\n  submit = async () => {\n    const { account, password } = this.state\n    try {\n      await http.post('/sign_in/user', { account, password })\n      this.goToIndex()\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page-login\">\n        <h1 className=\"login-header\">登录</h1>\n        <Input\n          className=\"account-input\"\n          placeholder=\"账号\" allowClear\n          prefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n          onChange={e => {this.onChange('account', e)}}\n          style={{marginBottom: '1em'}}\n        />\n        <Input.Password\n          className=\"password-input\"\n          placeholder=\"密码\" allowClear\n          prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n          onChange={e => {this.onChange('password', e)}}\n        />\n        <Button\n          className=\"login-btn\"\n          type=\"primary\" onClick={this.submit}>\n            登录\n        </Button>\n        <p className=\"register-link\">\n          还没有账号？<Link to=\"/signUp\">立即注册</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default login\n","import React, { Component } from 'react'\nimport { LockOutlined, SafetyCertificateOutlined, UserOutlined } from '@ant-design/icons';\nimport { Input, Button, message } from 'antd';\nimport http from '../../config/http'\nimport { Link } from 'react-router-dom'\n\nimport './signUp.styl'\n\ninterface ISignUpState {\n  account: string\n  password: string\n  passwordConfirmed: string\n}\n\ninterface IRouter {\n  history: any\n}\n\nexport class signUp extends Component<IRouter, ISignUpState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      account: '',\n      password: '',\n      passwordConfirmed: ''\n    }\n  }\n\n  onChange = (key: keyof ISignUpState, e: any) => {\n    const newState = {} as ISignUpState\n    newState[key] = e.target.value\n    this.setState(newState)\n  }\n\n  goToLogin = () => {\n    this.props.history.push('/login')\n  }\n\n  submit = async () => {\n    const { account, password, passwordConfirmed } = this.state\n    try {\n      await http.post('/sign_up/user', {\n        account, password, password_confirmation: passwordConfirmed\n      })\n\n      message.success('注册成功! 3s 后跳转至登录页...')\n      setTimeout(() => {\n        this.goToLogin()\n      }, 3000)\n\n    } catch (e) {\n      message.error('注册失败!')\n      throw new Error(e)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page-sign-up\">\n        <h1 className=\"sign-up-header\">注册</h1>\n        <Input\n          className=\"account-input\"\n          placeholder=\"账号\" allowClear\n          prefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n          onChange={e => {this.onChange('account', e)}}\n          style={{marginBottom: '1em'}}\n        />\n        <Input.Password\n          className=\"password-input\"\n          placeholder=\"密码\" allowClear\n          prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n          onChange={e => {this.onChange('password', e)}}\n          style={{marginBottom: '1em'}}\n        />\n        <Input.Password\n          className=\"password-confirmed-input\"\n          placeholder=\"确认密码\" allowClear\n          prefix={<SafetyCertificateOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n          onChange={e => {this.onChange('passwordConfirmed', e)}}\n          style={{marginBottom: '1em'}}\n        />\n        <Button\n          className=\"sign-up-btn\"\n          type=\"primary\" onClick={this.submit}>\n            注册\n        </Button>\n        <p className=\"login-link\">\n          已经有账号？<Link to=\"/login\">立即登录</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default signUp\n","import React from 'react';\nimport './App.css';\nimport Home from './components/home/home'\nimport Login from './components/login/login'\nimport SignUp from './components/signUp/signUp'\nimport history from './config/history'\nimport { Router, Route } from 'react-router-dom'\n\nconst App: React.FC = () => {\n  return (\n    <Router history={history}>\n      <div className=\"App\">\n        <Route path=\"/\" exact={true} component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/signUp\" component={SignUp} />\n      </div>\n    </Router>\n  );\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux'\nimport todosReducer from './todosReducer'\nimport waterMelonReducer from './waterMelonReducer'\n\nexport default combineReducers({\n  todosReducer,\n  waterMelonReducer\n})\n","import {\n  ADD_TODO,\n  INIT_TODOS,\n  UPDATE_TODO,\n  EDITING_TODO\n} from '../actionTypes'\n\nexport default (state: any[] = [], action: any): any => {\n  switch(action.type) {\n    case ADD_TODO:\n      return [...state, action.payload]\n    case INIT_TODOS:\n      return [...action.payload]\n    case UPDATE_TODO:\n      return state.map(todo=> {\n        return todo.id === action.payload.id\n          ? action.payload\n          : todo\n      })\n    case EDITING_TODO:\n      return state.map(todo => {\n        return todo.id === action.payload\n          ? Object.assign({}, todo, { editing: true })\n          : Object.assign({}, todo, { editing: false })\n      })\n    default:\n      return state\n  }\n}\n","import {\n  ADD_WATERMELON,\n  INIT_WATERMELON,\n  UPDATE_WATERMELON\n} from '../actionTypes'\n\nexport default (state: any[] = [], action: any) => {\n  switch(action.type) {\n    case ADD_WATERMELON:\n      return [action.payload, ...state]\n    case INIT_WATERMELON:\n      return [...(action.payload).map((wm: any) => {\n        if (!wm.extra) {\n          wm.extra = {}\n          Object.assign(wm.extra, { deleted: false })\n        }\n        return wm\n      })]\n      // return [...action.payload]\n    case UPDATE_WATERMELON:\n      return state.map(wm => {\n        return wm.id === action.payload.id\n          ? action.payload\n          : wm\n      })\n    default:\n      return state\n  }\n}\n","import rootReducer from './reducers/indexReducer'\nimport { createStore } from 'redux'\n\nconst store = createStore(rootReducer)\n\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}